(function(t){function e(e){for(var s,a,r=e[0],l=e[1],c=e[2],h=0,d=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],s=!0,a=1;a<i.length;a++){var r=i[a];0!==n[r]&&(s=!1)}s&&(o.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},a={app:0},n={app:0},o=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-2d018f2f":"6e4e3b9d","chunk-40b851e8":"78a4543a","chunk-6c3093e0":"20c72b2f","chunk-c8d8d83e":"4b80474d"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(t){var e=[],i={"chunk-2d018f2f":1,"chunk-40b851e8":1,"chunk-6c3093e0":1,"chunk-c8d8d83e":1};a[t]?e.push(a[t]):0!==a[t]&&i[t]&&e.push(a[t]=new Promise((function(e,i){for(var s="css/"+({}[t]||t)+"."+{"chunk-2d018f2f":"90150a39","chunk-40b851e8":"84c92ddc","chunk-6c3093e0":"d67b0cc2","chunk-c8d8d83e":"3a6f4c9f"}[t]+".css",n=l.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var c=o[r],h=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(h===s||h===n))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],h=c.getAttribute("data-href");if(h===s||h===n)return e()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var s=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete a[t],u.parentNode.removeChild(u),i(o)},u.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(u)})).then((function(){a[t]=0})));var s=n[t];if(0!==s)if(s)e.push(s[2]);else{var o=new Promise((function(e,i){s=n[t]=[e,i]}));e.push(s[2]=o);var c,h=document.createElement("script");h.charset="utf-8",h.timeout=120,l.nc&&h.setAttribute("nonce",l.nc),h.src=r(t);var d=new Error;c=function(e){h.onerror=h.onload=null,clearTimeout(u);var i=n[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,i[1](d)}n[t]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:h})}),12e4);h.onerror=h.onload=c,document.head.appendChild(h)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/FunBook/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],h=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=h;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0a83":function(t,e,i){t.exports=i.p+"img/folder.c9fb3465.svg"},"0e3c":function(t,e,i){},"0e93":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("callout-base",{attrs:{show:t.show,mobileMode:t.mobileMode,title:"Emoji",theme:t.theme,popperClass:["ikfb-emoji-callout"]},on:{"update:show":function(e){t.show=e}},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("p",{staticClass:"ikfb-emoji-callout-content"},[t._v(t._s(t.value))])]},proxy:!0},{key:"header",fn:function(i){return[e("div",{staticClass:"ikfb-emoji-banner"},[e("p",{staticStyle:{"font-size":"13.8px"}},[t._v(t._s(i.title))]),e("fv-button",{attrs:{theme:t.theme},on:{click:t.insertRandom}},[t._v("Random")])],1)]}},{key:"content",fn:function(){return[e("fv-infinite-scroll-view",{staticStyle:{width:"100%",height:"100%"},attrs:{value:t.show?t.emoji_list:[],batchSize:2},scopedSlots:t._u([{key:"default",fn:function(i){return t._l(i.dynamicValue,(function(i,s){return e("div",{key:"type:"+s,staticClass:"ikfb-emoji-list"},[e("p",{staticClass:"title"},[t._v(t._s(i.name))]),e("div",{staticClass:"ikfb-emoji-group"},t._l(i.emojis,(function(i,s){return e("i",{key:s,staticClass:"emoji-item",domProps:{innerHTML:t._s(i)},on:{click:function(e){return t.insertEmoji(i)}}})})),0)])}))}}])})]},proxy:!0}])})},a=[],n=[{name:"People and Fantasy",emojis:["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ˜‚","ðŸ¤£","â˜ºï¸","ðŸ˜Š","ðŸ˜‡","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Œ","ðŸ˜","ðŸ¥°","ðŸ˜˜","ðŸ˜—","ðŸ˜™","ðŸ˜š","ðŸ˜‹","ðŸ˜›","ðŸ˜","ðŸ˜œ","ðŸ¤ª","ðŸ¤¨","ðŸ§","ðŸ¤“","ðŸ˜Ž","ðŸ¤©","ðŸ¥³","ðŸ˜","ðŸ˜’","ðŸ˜ž","ðŸ˜”","ðŸ˜Ÿ","ðŸ˜•","ðŸ™","â˜¹ï¸","ðŸ˜£","ðŸ˜–","ðŸ˜«","ðŸ˜©","ðŸ¥º","ðŸ˜¢","ðŸ˜­","ðŸ˜¤","ðŸ˜ ","ðŸ˜¡","ðŸ¤¬","ðŸ¤¯","ðŸ˜³","ðŸ¥µ","ðŸ¥¶","ðŸ˜±","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜“","ðŸ¤—","ðŸ¤”","ðŸ¤­","ðŸ¤«","ðŸ¤¥","ðŸ˜¶","ðŸ˜","ðŸ˜‘","ðŸ˜¬","ðŸ™„","ðŸ˜¯","ðŸ˜¦","ðŸ˜§","ðŸ˜®","ðŸ˜²","ðŸ¥±","ðŸ˜´","ðŸ¤¤","ðŸ˜ª","ðŸ˜µ","ðŸ¤","ðŸ¥´","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤‘","ðŸ¤ ","ðŸ˜ˆ","ðŸ‘¿","ðŸ‘¹","ðŸ‘º","ðŸ¤¡","ðŸ’©","ðŸ‘»","ðŸ’€","â˜ ï¸","ðŸ‘½","ðŸ‘¾","ðŸ¤–","ðŸŽƒ","ðŸ˜º","ðŸ˜¸","ðŸ˜¹","ðŸ˜»","ðŸ˜¼","ðŸ˜½","ðŸ™€","ðŸ˜¿","ðŸ˜¾"]},{name:"Animals & Nature",emojis:["ðŸ¶","ðŸ±","ðŸ­","ðŸ¹","ðŸ°","ðŸ¦Š","ðŸ»","ðŸ¼","ðŸ»â€","â„ï¸","ðŸ¨","ðŸ¯","ðŸ¦","ðŸ®","ðŸ·","ðŸ½","ðŸ¸","ðŸµ","ðŸ™ˆ","ðŸ™‰","ðŸ™Š","ðŸ’","ðŸ”","ðŸ§","ðŸ¦","ðŸ¤","ðŸ£","ðŸ¥","ðŸ¦†","ðŸ¦…","ðŸ¦‰","ðŸ¦‡","ðŸº","ðŸ—","ðŸ´","ðŸ¦„","ðŸ","ðŸ›","ðŸ¦‹","ðŸŒ","ðŸž","ðŸœ","ðŸ¦Ÿ","ðŸ¦—","ðŸ•·","ðŸ•¸","ðŸ¦‚","ðŸ¢","ðŸ","ðŸ¦Ž","ðŸ¦–","ðŸ¦•","ðŸ™","ðŸ¦‘","ðŸ¦","ðŸ¦ž","ðŸ¦€","ðŸ¡","ðŸ ","ðŸŸ","ðŸ¬","ðŸ³","ðŸ‹","ðŸ¦ˆ","ðŸŠ","ðŸ…","ðŸ†","ðŸ¦“","ðŸ¦","ðŸ¦§","ðŸ˜","ðŸ¦›","ðŸ¦","ðŸª","ðŸ«","ðŸ¦’","ðŸ¦˜","ðŸƒ","ðŸ‚","ðŸ„","ðŸŽ","ðŸ–","ðŸ","ðŸ‘","ðŸ¦™","ðŸ","ðŸ¦Œ","ðŸ•","ðŸ©","ðŸ¦®","ðŸ•â€ðŸ¦º","ðŸˆ","ðŸ“","ðŸ¦ƒ","ðŸ¦š","ðŸ¦œ","ðŸ¦¢","ðŸ¦©","ðŸ•Š","ðŸ‡","ðŸ¦","ðŸ¦¨","ðŸ¦¡","ðŸ¦¦","ðŸ¦¥","ðŸ","ðŸ€","ðŸ¿","ðŸ¦”","ðŸ¾","ðŸ‰","ðŸ²","ðŸŒµ","ðŸŽ„","ðŸŒ²","ðŸŒ³","ðŸŒ´","ðŸŒ±","ðŸŒ¿","â˜˜ï¸","ðŸ€","ðŸŽ","ðŸŽ‹","ðŸƒ","ðŸ‚","ðŸ","ðŸ„","ðŸš","ðŸŒ¾","ðŸ’","ðŸŒ·","ðŸŒ¹","ðŸ¥€","ðŸŒº","ðŸŒ¸","ðŸŒ¼","ðŸŒ»","ðŸŒž","ðŸŒ","ðŸŒ›","ðŸŒœ","ðŸŒš","ðŸŒ•","ðŸŒ–","ðŸŒ—","ðŸŒ˜","ðŸŒ‘","ðŸŒ’","ðŸŒ“","ðŸŒ”","ðŸŒ™","ðŸŒŽ","ðŸŒ","ðŸŒ","ðŸª","ðŸ’«","â­ï¸","ðŸŒŸ","âœ¨","âš¡ï¸","â˜„ï¸","ðŸ’¥","ðŸ”¥","ðŸŒª","ðŸŒˆ","â˜€ï¸","ðŸŒ¤","â›…ï¸","ðŸŒ¥","â˜ï¸","ðŸŒ¦","ðŸŒ§","â›ˆ","ðŸŒ©","ðŸŒ¨","â„ï¸","â˜ƒï¸","â›„ï¸","ðŸŒ¬","ðŸ’¨","ðŸ’§","ðŸ’¦","â˜”ï¸","â˜‚ï¸","ðŸŒŠ","ðŸŒ«"]},{name:"Food & Drink",emojis:["ðŸ","ðŸŽ","ðŸ","ðŸŠ","ðŸ‹","ðŸŒ","ðŸ‰","ðŸ‡","ðŸ“","ðŸˆ","ðŸ’","ðŸ‘","ðŸ¥­","ðŸ","ðŸ¥¥","ðŸ¥","ðŸ…","ðŸ†","ðŸ¥‘","ðŸ¥¦","ðŸ¥¬","ðŸ¥’","ðŸŒ¶","ðŸŒ½","ðŸ¥•","ðŸ§„","ðŸ§…","ðŸ¥”","ðŸ ","ðŸ¥","ðŸ¥¯","ðŸž","ðŸ¥–","ðŸ¥¨","ðŸ§€","ðŸ¥š","ðŸ³","ðŸ§ˆ","ðŸ¥ž","ðŸ§‡","ðŸ¥“","ðŸ¥©","ðŸ—","ðŸ–","ðŸ¦´","ðŸŒ­","ðŸ”","ðŸŸ","ðŸ•","ðŸ¥ª","ðŸ¥™","ðŸ§†","ðŸŒ®","ðŸŒ¯","ðŸ¥—","ðŸ¥˜","ðŸ¥«","ðŸ","ðŸœ","ðŸ²","ðŸ›","ðŸ£","ðŸ±","ðŸ¥Ÿ","ðŸ¦ª","ðŸ¤","ðŸ™","ðŸš","ðŸ˜","ðŸ¥","ðŸ¥ ","ðŸ¥®","ðŸ¢","ðŸ¡","ðŸ§","ðŸ¨","ðŸ¦","ðŸ¥§","ðŸ§","ðŸ°","ðŸŽ‚","ðŸ®","ðŸ­","ðŸ¬","ðŸ«","ðŸ¿","ðŸ©","ðŸª","ðŸŒ°","ðŸ¥œ","ðŸ¯","ðŸ¥›","ðŸ¼","â˜•ï¸","ðŸµ","ðŸ§ƒ","ðŸ¥¤","ðŸ¶","ðŸº","ðŸ»","ðŸ¥‚","ðŸ·","ðŸ¥ƒ","ðŸ¸","ðŸ¹","ðŸ§‰","ðŸ¾","ðŸ§Š","ðŸ¥„","ðŸ´","ðŸ½","ðŸ¥£","ðŸ¥¡","ðŸ¥¢","ðŸ§‚",""]},{name:"Activity and Sports",emojis:["âš½ï¸","ðŸ€","ðŸˆ","âš¾ï¸","ðŸ¥Ž","ðŸŽ¾","ðŸ","ðŸ‰","ðŸ¥","ðŸŽ±","ðŸª€","ðŸ“","ðŸ¸","ðŸ’","ðŸ‘","ðŸ¥","ðŸ","ðŸ¥…","â›³ï¸","ðŸª","ðŸ¹","ðŸŽ£","ðŸ¤¿","ðŸ¥Š","ðŸ¥‹","ðŸŽ½","ðŸ›¹","ðŸ›·","â›¸","ðŸ¥Œ","ðŸŽ¿","â›·","ðŸ‚","ðŸª‚","ðŸ‹ï¸â€â™€ï¸","ðŸ‹ï¸","ðŸ‹ï¸â€â™‚ï¸","ðŸ¤¼â€â™€ï¸","ðŸ¤¼","ðŸ¤¼â€â™‚ï¸","ðŸ¤¸â€â™€ï¸","ðŸ¤¸","ðŸ¤¸â€â™‚ï¸","â›¹ï¸â€â™€ï¸","â›¹ï¸","â›¹ï¸â€â™‚ï¸","ðŸ¤º","ðŸ¤¾â€â™€ï¸","ðŸ¤¾","ðŸ¤¾â€â™‚ï¸","ðŸŒï¸â€â™€ï¸","ðŸŒï¸","ðŸŒï¸â€â™‚ï¸","ðŸ‡","ðŸ§˜â€â™€ï¸","ðŸ§˜","ðŸ§˜â€â™‚ï¸","ðŸ„â€â™€ï¸","ðŸ„","ðŸ„â€â™‚ï¸","ðŸŠâ€â™€ï¸","ðŸŠ","ðŸŠâ€â™‚ï¸","ðŸ¤½â€â™€ï¸","ðŸ¤½","ðŸ¤½â€â™‚ï¸","ðŸš£â€â™€ï¸","ðŸš£","ðŸš£â€â™‚ï¸","ðŸ§—â€â™€ï¸","ðŸ§—","ðŸ§—â€â™‚ï¸","ðŸšµâ€â™€ï¸","ðŸšµ","ðŸšµâ€â™‚ï¸","ðŸš´â€â™€ï¸","ðŸš´","ðŸš´â€â™‚ï¸","ðŸ†","ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰","ðŸ…","ðŸŽ–","ðŸµ","ðŸŽ—","ðŸŽ«","ðŸŽŸ","ðŸŽª","ðŸ¤¹","ðŸ¤¹â€â™‚ï¸","ðŸ¤¹â€â™€ï¸","ðŸŽ­","ðŸ©°","ðŸŽ¨","ðŸŽ¬","ðŸŽ¤","ðŸŽ§","ðŸŽ¼","ðŸŽ¹","ðŸ¥","ðŸª˜","ðŸŽ·","ðŸŽº","ðŸŽ¸","ðŸª•","ðŸŽ»","ðŸŽ²","â™Ÿ","ðŸŽ¯","ðŸŽ³","ðŸŽ®","ðŸŽ°","ðŸ§©"]},{name:"Travel & Places",emojis:["ðŸš—","ðŸš•","ðŸš™","ðŸšŒ","ðŸšŽ","ðŸŽ","ðŸš“","ðŸš‘","ðŸš’","ðŸš","ðŸšš","ðŸš›","ðŸšœ","ðŸ¦¯","ðŸ¦½","ðŸ¦¼","ðŸ›´","ðŸš²","ðŸ›µ","ðŸ","ðŸ›º","ðŸš¨","ðŸš”","ðŸš","ðŸš˜","ðŸš–","ðŸš¡","ðŸš ","ðŸšŸ","ðŸšƒ","ðŸš‹","ðŸšž","ðŸš","ðŸš„","ðŸš…","ðŸšˆ","ðŸš‚","ðŸš†","ðŸš‡","ðŸšŠ","ðŸš‰","âœˆï¸","ðŸ›«","ðŸ›¬","ðŸ›©","ðŸ’º","ðŸ›°","ðŸš€","ðŸ›¸","ðŸš","ðŸ›¶","â›µï¸","ðŸš¤","ðŸ›¥","ðŸ›³","â›´","ðŸš¢","âš“ï¸","ðŸª","â›½ï¸","ðŸš§","ðŸš¦","ðŸš¥","ðŸš","ðŸ—º","ðŸ—¿","ðŸ—½","ðŸ—¼","ðŸ°","ðŸ¯","ðŸŸ","ðŸŽ¡","ðŸŽ¢","ðŸŽ ","â›²ï¸","â›±","ðŸ–","ðŸ","ðŸœ","ðŸŒ‹","â›°","ðŸ”","ðŸ—»","ðŸ•","â›ºï¸","ðŸ ","ðŸ¡","ðŸ˜","ðŸš","ðŸ—","ðŸ­","ðŸ¢","ðŸ¬","ðŸ£","ðŸ¤","ðŸ¥","ðŸ¦","ðŸ¨","ðŸª","ðŸ«","ðŸ©","ðŸ’’","ðŸ›","â›ªï¸","ðŸ•Œ","ðŸ•","ðŸ›•","ðŸ•‹","â›©","ðŸ›¤","ðŸ›£","ðŸ—¾","ðŸŽ‘","ðŸž","ðŸŒ…","ðŸŒ„","ðŸŒ ","ðŸŽ‡","ðŸŽ†","ðŸŒ‡","ðŸŒ†","ðŸ™","ðŸŒƒ","ðŸŒŒ","ðŸŒ‰","ðŸŒ"]},{name:"Objects",emojis:["âŒšï¸","ðŸ“±","ðŸ“²","ðŸ’»","âŒ¨ï¸","ðŸ–¥","ðŸ–¨","ðŸ–±","ðŸ–²","ðŸ•¹","ðŸ—œ","ðŸ’½","ðŸ’¾","ðŸ’¿","ðŸ“€","ðŸ“¼","ðŸ“·","ðŸ“¸","ðŸ“¹","ðŸŽ¥","ðŸ“½","ðŸŽž","ðŸ“ž","â˜Žï¸","ðŸ“Ÿ","ðŸ“ ","ðŸ“º","ðŸ“»","ðŸŽ™","ðŸŽš","ðŸŽ›","ðŸ§­","â±","â²","â°","ðŸ•°","âŒ›ï¸","â³","ðŸ“¡","ðŸ”‹","ðŸ”Œ","ðŸ’¡","ðŸ”¦","ðŸ•¯","ðŸª”","ðŸ§¯","ðŸ›¢","ðŸ’¸","ðŸ’µ","ðŸ’´","ðŸ’¶","ðŸ’·","ðŸ’°","ðŸ’³","ðŸ’Ž","âš–ï¸","ðŸ§°","ðŸ”§","ðŸ”¨","âš’","ðŸ› ","â›","ðŸ”©","âš™ï¸","ðŸ§±","â›“","ðŸ§²","ðŸ”«","ðŸ’£","ðŸ§¨","ðŸª“","ðŸ”ª","ðŸ—¡","âš”ï¸","ðŸ›¡","ðŸš¬","âš°ï¸","âš±ï¸","ðŸº","ðŸ”®","ðŸ“¿","ðŸ§¿","ðŸ’ˆ","âš—ï¸","ðŸ”­","ðŸ”¬","ðŸ•³","ðŸ©¹","ðŸ©º","ðŸ’Š","ðŸ’‰","ðŸ©¸","ðŸ§¬","ðŸ¦ ","ðŸ§«","ðŸ§ª","ðŸŒ¡","ðŸ§¹","ðŸ§º","ðŸ§»","ðŸš½","ðŸš°","ðŸš¿","ðŸ›","ðŸ›€","ðŸ§¼","ðŸª’","ðŸ§½","ðŸ§´","ðŸ›Ž","ðŸ”‘","ðŸ—","ðŸšª","ðŸª‘","ðŸ›‹","ðŸ›","ðŸ›Œ","ðŸ§¸","ðŸ–¼","ðŸ›","ðŸ›’","ðŸŽ","ðŸŽˆ","ðŸŽ","ðŸŽ€","ðŸª„","ðŸª…","ðŸŽŠ","ðŸŽ‰","ðŸŽŽ","ðŸ®","ðŸŽ","ðŸ§§","âœ‰ï¸","ðŸ“©","ðŸ“¨","ðŸ“§","ðŸ’Œ","ðŸ“¥","ðŸ“¤","ðŸ“¦","ðŸ·","ðŸ“ª","ðŸ“«","ðŸ“¬","ðŸ“­","ðŸ“®","ðŸ“¯","ðŸ“œ","ðŸ“ƒ","ðŸ“„","ðŸ“‘","ðŸ§¾","ðŸ“Š","ðŸ“ˆ","ðŸ“‰","ðŸ—’","ðŸ—“","ðŸ“†","ðŸ“…","ðŸ—‘","ðŸ“‡","ðŸ—ƒ","ðŸ—³","ðŸ—„","ðŸ“‹","ðŸ“","ðŸ“‚","ðŸ—‚","ðŸ—ž","ðŸ“°","ðŸ““","ðŸ“”","ðŸ“’","ðŸ“•","ðŸ“—","ðŸ“˜","ðŸ“™","ðŸ“š","ðŸ“–","ðŸ”–","ðŸ§·","ðŸ”—","ðŸ“Ž","ðŸ–‡","ðŸ“","ðŸ“","ðŸ§®","ðŸ“Œ","ðŸ“","âœ‚ï¸","ðŸ–Š","ðŸ–‹","âœ’ï¸","ðŸ–Œ","ðŸ–","ðŸ“","âœï¸","ðŸ”","ðŸ”Ž","ðŸ”","ðŸ”","ðŸ”’","ðŸ”“"]},{name:"Symbols",emojis:["â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ–¤","ðŸ¤","ðŸ¤Ž","ðŸ’”","â£ï¸","ðŸ’•","ðŸ’ž","ðŸ’“","ðŸ’—","ðŸ’–","ðŸ’˜","ðŸ’","ðŸ’Ÿ","â˜®ï¸","âœï¸","â˜ªï¸","ðŸ•‰","â˜¸ï¸","âœ¡ï¸","ðŸ”¯","ðŸ•Ž","â˜¯ï¸","â˜¦ï¸","ðŸ›","â›Ž","â™ˆï¸","â™‰ï¸","â™Šï¸","â™‹ï¸","â™Œï¸","â™ï¸","â™Žï¸","â™ï¸","â™ï¸","â™‘ï¸","â™’ï¸","â™“ï¸","ðŸ†”","âš›ï¸","ðŸ‰‘","â˜¢ï¸","â˜£ï¸","ðŸ“´","ðŸ“³","ðŸˆ¶","ðŸˆšï¸","ðŸˆ¸","ðŸˆº","ðŸˆ·ï¸","âœ´ï¸","ðŸ†š","ðŸ’®","ðŸ‰","ãŠ™ï¸","ãŠ—ï¸","ðŸˆ´","ðŸˆµ","ðŸˆ¹","ðŸˆ²","ðŸ…°ï¸","ðŸ…±ï¸","ðŸ†Ž","ðŸ†‘","ðŸ…¾ï¸","ðŸ†˜","âŒ","â­•ï¸","ðŸ›‘","â›”ï¸","ðŸ“›","ðŸš«","ðŸ’¯","ðŸ’¢","â™¨ï¸","ðŸš·","ðŸš¯","ðŸš³","ðŸš±","ðŸ”ž","ðŸ“µ","ðŸš­","â—ï¸","â•","â“","â”","â€¼ï¸","â‰ï¸","ðŸ”…","ðŸ”†","ã€½ï¸","âš ï¸","ðŸš¸","ðŸ”±","âšœï¸","ðŸ”°","â™»ï¸","âœ…","ðŸˆ¯ï¸","ðŸ’¹","â‡ï¸","âœ³ï¸","âŽ","ðŸŒ","ðŸ’ ","â“‚ï¸","ðŸŒ€","ðŸ’¤","ðŸ§","ðŸš¾","â™¿ï¸","ðŸ…¿ï¸","ðŸ›—","ðŸˆ³","ðŸˆ‚ï¸","ðŸ›‚","ðŸ›ƒ","ðŸ›„","ðŸ›…","ðŸš¹","ðŸšº","ðŸš¼","âš§","ðŸš»","ðŸš®","ðŸŽ¦","ðŸ“¶","ðŸˆ","ðŸ”£","â„¹ï¸","ðŸ”¤","ðŸ”¡","ðŸ” ","ðŸ†–","ðŸ†—","ðŸ†™","ðŸ†’","ðŸ†•","ðŸ†“","0ï¸âƒ£","1ï¸âƒ£","2ï¸âƒ£","3ï¸âƒ£","4ï¸âƒ£","5ï¸âƒ£","6ï¸âƒ£","7ï¸âƒ£","8ï¸âƒ£","9ï¸âƒ£","ðŸ”Ÿ","ðŸ”¢","#ï¸âƒ£","*ï¸âƒ£","âï¸","â–¶ï¸","â¸","â¯","â¹","âº","â­","â®","â©","âª","â«","â¬","â—€ï¸","ðŸ”¼","ðŸ”½","âž¡ï¸","â¬…ï¸","â¬†ï¸","â¬‡ï¸","â†—ï¸","â†˜ï¸","â†™ï¸","â†–ï¸","â†•ï¸","â†”ï¸","â†ªï¸","â†©ï¸","â¤´ï¸","â¤µï¸","ðŸ”€","ðŸ”","ðŸ”‚","ðŸ”„","ðŸ”ƒ","ðŸŽµ","ðŸŽ¶","âž•","âž–","âž—","âœ–ï¸","â™¾","ðŸ’²","ðŸ’±","â„¢ï¸","Â©ï¸","Â®ï¸","ã€°ï¸","âž°","âž¿","ðŸ”š","ðŸ”™","ðŸ”›","ðŸ”","ðŸ”œ","âœ”ï¸","â˜‘ï¸","ðŸ”˜","ðŸ”´","ðŸŸ ","ðŸŸ¡","ðŸŸ¢","ðŸ”µ","ðŸŸ£","âš«ï¸","âšªï¸","ðŸŸ¤","ðŸ”º","ðŸ”»","ðŸ”¸","ðŸ”¹","ðŸ”¶","ðŸ”·","ðŸ”³","ðŸ”²","â–ªï¸","â–«ï¸","â—¾ï¸","â—½ï¸","â—¼ï¸","â—»ï¸","ðŸŸ¥","ðŸŸ§","ðŸŸ¨","ðŸŸ©","ðŸŸ¦","ðŸŸª","â¬›ï¸","â¬œï¸","ðŸŸ«","ðŸ”ˆ","ðŸ”‡","ðŸ”‰","ðŸ”Š","ðŸ””","ðŸ”•","ðŸ“£","ðŸ“¢","ðŸ‘â€ðŸ—¨","ðŸ’¬","ðŸ’­","ðŸ—¯","â™ ï¸","â™£ï¸","â™¥ï¸","â™¦ï¸","ðŸƒ","ðŸŽ´","ðŸ€„ï¸","ðŸ•","ðŸ•‘","ðŸ•’","ðŸ•“","ðŸ•”","ðŸ••","ðŸ•–","ðŸ•—","ðŸ•˜","ðŸ•™","ðŸ•š","ðŸ•›","ðŸ•œ","ðŸ•","ðŸ•ž","ðŸ•Ÿ","ðŸ• ","ðŸ•¡","ðŸ•¢","ðŸ•£","ðŸ•¤","ðŸ•¥","ðŸ•¦","ðŸ•§"]},{name:"Flags",emojis:["ðŸ³ï¸","ðŸ´","ðŸ","ðŸš©","ðŸ³ï¸â€ðŸŒˆ","ðŸ³ï¸â€âš§ï¸","ðŸ´â€â˜ ï¸"]}],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ikfb-callout-base-container",class:[{dark:"dark"===t.theme}]},[t.mobileMode?t._e():e("fv-callout",{attrs:{visible:t.thisShow,lockScroll:!0,position:"bottomCenter",disabled:t.mobileMode,beak:12,space:0,theme:t.theme,popperClass:t.popperClass},on:{"update:visible":function(e){t.thisShow=e}}},[t._t("trigger",null,{show:!1}),e("header",[t._t("header",(function(){return[e("p",{staticStyle:{"font-size":"13.8px"}},[t._v(t._s(t.title))])]}),{title:t.title})],2),e("main",[t._t("content",null,{index:"1"})],2)],2),t.mobileMode?e("div",[t._t("trigger",null,{show:t.triggerShow}),e("fv-drawer",{staticClass:"ikfb-callout-base-mobile-container",attrs:{length:"calc(100% - 50px)"},model:{value:t.thisShow,callback:function(e){t.thisShow=e},expression:"thisShow"}},[e("div",{staticClass:"ikfb-c-b-m-banner"},[t._t("header",(function(){return[e("p",{staticStyle:{width:"50px"}}),e("p",{staticClass:"ikfb-c-b-m-title"},[t._v(t._s(t.title))])]}),{title:t.title}),e("p",{staticClass:"ikfb-c-b-m-close",on:{click:function(e){t.thisShow=!1}}},[t._v("Cancel")])],2),e("div",{staticClass:"ikfb-c-b-m-content-block",class:t.popperClass},[e("div",{staticClass:"main",staticStyle:{width:"100%",height:"100%"}},[t._t("content",null,{index:"2"})],2)])])],2):t._e()],1)},r=[],l={props:{popperClass:{default:[]},title:{default:"Title"},show:{default:!1},mobileMode:{default:!1},theme:{default:"light"}},data(){return{thisShow:!1}},watch:{show(t){this.thisShow=t},thisShow(t){this.$emit("update:show",t)}},methods:{triggerShow(){this.thisShow=!0}}},c=l,h=(i("3510"),i("8e3e")),d=Object(h["a"])(c,o,r,!1,null,null,null),u=d.exports,p={components:{calloutBase:u},props:{value:{default:""},mobileMode:{default:!1},theme:{default:"light"}},data(){return{emoji_list:n,show:!1}},watch:{},methods:{getTitle(t){return t},insertEmoji(t){this.$emit("insert-emoji",t)},insertRandom(){let t=(Math.random()*(this.emoji_list.length-1)).toFixed(0),e=(Math.random()*(this.emoji_list[t].emojis.length-1)).toFixed(0);this.$emit("insert-emoji",this.emoji_list[t].emojis[e])}}},m=p,g=(i("dee9"),Object(h["a"])(m,s,a,!1,null,null,null));e["a"]=g.exports},"10f2":function(t,e,i){"use strict";i("3de6")},1193:function(t,e,i){},"161b":function(t,e,i){},"19c1":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ikfb-templates-grid",class:[{dark:"dark"===t.theme}]},[t._l(t.thisValue,(function(i,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"item.show"}],key:s,staticClass:"template-block",on:{contextmenu:function(e){return t.rightClick(e,i)}}},[e("div",{staticClass:"content-preview",on:{click:function(e){return t.chooseCurrent(i)}}},[void 0==i.minContent?e("fv-shimmer",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[t._l(2,(function(t,i){return e("div",{key:i,staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[e("div",{staticClass:"sample",staticStyle:{width:"30px",height:"30px",margin:"5px","border-radius":"50%"}}),e("div",{staticClass:"sample",staticStyle:{width:"80%",flex:"1",margin:"5px"}})])})),e("div",{staticStyle:{width:"100%",height:"100%",display:"flex","flex-direction":"column"}},t._l(5,(function(t,i){return e("div",{key:i,staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[e("div",{staticClass:"sample",staticStyle:{width:"80%",height:"15px",margin:"5px"},style:{width:100-10*i+"%"}})])})),0)],2):t._e(),void 0!=i.minContent?e("power-editor",{staticStyle:{position:"relative",width:"100%","min-height":"100%",height:"auto"},attrs:{value:i.minContent,placeholder:t.local("No content here ..."),editable:!1,theme:t.theme,editorOutSideBackground:"dark"==t.theme?"rgba(47, 52, 55, 1)":"white",mobileDisplayWidth:0}}):t._e()],1),e("div",{staticClass:"bottom-info"},[e("div",{staticClass:"bottom-item-row"},[e("p",{staticClass:"template-icon"},[t._v(t._s(i.emoji))]),e("p",{staticClass:"template-title",attrs:{title:i.name}},[t._v(t._s(i.name))])]),e("div",{staticClass:"bottom-item-row"},[e("i",{staticClass:"ms-Icon ms-Icon--Clock"}),e("p",{staticClass:"template-date"},[t._v(t._s(i.createDate))])])]),e("span",{key:"multi-col",staticClass:"icon-block icon",on:{click:function(e){return t.itemChooseClick(i)}}},[e("span",{staticClass:"icon",class:{choose:i.choosen}},[e("i",{staticClass:"ms-Icon ms-Icon--FullCircleMask ll"}),e("i",{staticClass:"ms-Icon ms-Icon--CircleRing ll"}),e("i",{staticClass:"ms-Icon ms-Icon--Completed ll"})])])])})),e("right-menu",{attrs:{theme:t.theme,posX:t.posX,posY:t.posY,rightMenuWidth:t.rightMenuWidth},on:{"update-height":function(e){t.rightMenuHeight=e}},model:{value:t.show.rightMenu,callback:function(e){t.$set(t.show,"rightMenu",e)},expression:"show.rightMenu"}},[t._t("menu")],2)],2)},a=[],n=i("820f"),o=i("bcbe");i("cad9");var r={components:{rightMenu:n["a"]},props:{value:{default:()=>[]},filter:{default:()=>({key:"any",value:""})},rightMenuWidth:{default:200}},data(){return{thisValue:[],posX:0,posY:0,rightMenuItem:{},rightMenuHeight:0,show:{rightMenu:!1}}},watch:{value(){this.loadTemplates()},show_editor(t){t||this.loadTemplates()},filter(){this.filterValue()},"filter.value"(){this.filterValue()}},computed:{...Object(o["d"])({data_path:t=>t.data_path,data_index:t=>t.data_index,templates:t=>t.data_structure.templates,show_editor:t=>t.editor.show,theme:t=>t.theme}),...Object(o["b"])(["local","cur_db"]),v(){return this},currentChoosen(){let t=[];for(let e=0;e<this.thisValue.length;e++)this.thisValue[e].choosen&&this.thisValue[e].show&&t.push(this.thisValue[e]);return t}},mounted(){this.loadTemplates(),this.filterValue()},methods:{...Object(o["c"])({reviseDS:"reviseDS",toggleEditor:"toggleEditor"}),async loadTemplates(){this.thisValue=JSON.parse(JSON.stringify(this.value));let t=[];for(let e of this.thisValue)e.show=!0,e.choosen=!1,this.$set(this.thisValue,this.thisValue.indexOf(e),e);for(let e of this.thisValue)t.push(new Promise(t=>{this.cur_db.readFile(`root/templates/${e.id}.json`).then(i=>{let s=i;try{e.content=JSON.parse(s),e.content.content=e.content.content.slice(0,10)}catch(a){e.content=s.slice(0,500)}e.minContent=e.content,this.$set(this.thisValue,this.thisValue.indexOf(e),e),t(e.id)})}));return await Promise.all(t)},rightClick(t,e){t.preventDefault(),this.show.rightMenu=!0;let i=this.$el.getBoundingClientRect(),s={};s.x=t.x,s.y=t.y,s.x<i.left&&(s.x=i.left),s.x+this.rightMenuWidth>i.right&&(s.x=i.right-this.rightMenuWidth),s.y<i.top&&(s.y=i.top),s.y+this.rightMenuHeight>i.bottom&&(s.y=i.bottom-this.rightMenuHeight),this.posX=s.x,this.posY=s.y,this.$emit("rightclick",e)},filterValue(){let t=this.filter;if("string"==typeof this.filter&&(t={key:"any",value:this.filter}),void 0==t.key||void 0==t.value)return console.warn(this.filter,"Invalid filter."),0;if("any"==t.key)for(let e=0;e<this.thisValue.length;e++){let i=!1,s=this.thisValue[e];for(let a in this.thisValue[e])if("string"==typeof s[a]&&s[a].toLowerCase().indexOf(t.value.toLowerCase())>-1){i=!0;break}s.show=i,this.$set(this.thisValue,e,s)}else for(let e=0;e<this.thisValue.length;e++){let i=this.thisValue[e],s=this.thisValue[e][this.filter.key].toLowerCase().indexOf(t.value.toLowerCase())>-1;i.show=s,this.$set(this.thisValue,e,i)}this.$emit("change-value",this.thisValue)},itemChooseClick(t){let e=this.thisValue.indexOf(t),i=t;i.choosen=!i.choosen,this.$set(this.thisValue,e,i),this.$emit("change-value",this.thisValue),this.$emit("choose-items",this.currentChoosen)},chooseCurrent(t){for(let e=0;e<this.thisValue.length;e++){let t=this.thisValue[e];t.choosen=!1,this.$set(this.thisValue,e,t)}t.choosen=!0,this.$set(this.thisValue,this.thisValue.indexOf(t),t),this.$emit("change-value",this.thisValue),this.$emit("item-click",t),this.$emit("choose-items",this.currentChoosen)}}},l=r,c=(i("e1ea"),i("8e3e")),h=Object(c["a"])(l,s,a,!1,null,null,null);e["a"]=h.exports},"320d":function(t,e,i){t.exports=i.p+"img/OneDrive.51d2a9bb.svg"},3510:function(t,e,i){"use strict";i("7791")},3620:function(t,e,i){t.exports=i.p+"img/guide_arrowhead.de9e3849.svg"},"36d6":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("float-window-base",{attrs:{title:t.local("Add Page"),theme:t.theme},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticClass:"w-p-block"},[e("p",{staticClass:"w-title"},[t._v(t._s(t.local("Page Name")))]),e("fv-text-box",{staticStyle:{width:"100%",height:"60px","margin-top":"15px"},attrs:{placeholder:t.local("Input page name..."),theme:t.theme,"font-size":18,"font-weight":"bold",underline:"","focus-border-color":"rgba(123, 139, 209, 1)","is-box-shadow":!0},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("div",{staticClass:"w-p-block"},[e("p",{staticClass:"w-title"},[t._v(t._s(t.local("From Template")))]),e("div",{staticStyle:{height:"300px",flex:"1"}},[e("template-grid",{attrs:{value:t.templates},on:{"choose-items":function(e){t.currentChoosen=e},"item-click":function(e){return t.openEditor(e)}}})],1)])]},proxy:!0},{key:"control",fn:function(){return[e("fv-button",{attrs:{theme:"dark",background:"rgba(0, 153, 204, 1)",disabled:""===t.name||!t.cur_db||t.currentChoosen.length>1},on:{click:t.add}},[t._v(t._s(t.local("Confirm"))+" ")]),e("fv-button",{attrs:{theme:t.theme},on:{click:function(e){t.thisShow=!1}}},[t._v(t._s(t.local("Cancel")))])]},proxy:!0}]),model:{value:t.thisShow,callback:function(e){t.thisShow=e},expression:"thisShow"}})},a=[],n=i("4c9f"),o=i("19c1"),r=i("bb93"),l=i("bcbe"),c=i("d048"),h={components:{floatWindowBase:n["a"],templateGrid:o["a"]},props:{show:{default:!1},item:{default:null}},data(){return{thisShow:this.show,name:"",currentChoosen:[]}},watch:{show(t){this.thisShow=t},thisShow(t){this.$emit("update:show",t),this.name=""}},computed:{...Object(l["d"])({root:t=>t.root,data_index:t=>t.data_index,data_path:t=>t.data_path,templates:t=>t.data_structure.templates,items:t=>t.data_structure.items,theme:t=>t.theme}),...Object(l["b"])(["local","cur_db"]),v(){return this}},methods:{...Object(l["c"])({reviseDS:"reviseDS",reviseEditor:"reviseEditor",toggleEditor:"toggleEditor"}),async add(){if(!this.cur_db||!this.item||""===this.name||this.currentChoosen.length>1)return;let t=JSON.parse(JSON.stringify(r["f"]));t.id=this.$Guid(),t.name=this.name,t.emoji="ðŸ“‘",t.createDate=this.$SDate.DateToString(new Date);let e=this.items.find(t=>t.id===this.item.id);if(e.pages.push(t),this.item.pages=e.pages,null!==this.root){this.reviseDS({$index:this.data_index,items:this.items});try{await this.root.clone().path("root/items").createListAsync({name:e.id,conflict:c["ConflictBehavior"].Fail})}catch(i){console.log(i)}const s=await this.root.clone().path("root/items/"+e.id).getAsync();let a=1==this.currentChoosen.length?JSON.stringify(this.currentChoosen[0].content):"";void 0!==s&&await this.root.clone().item(s.id).path(t.id+".json").uploadAsync({file:new File([a],t.id+".json",{type:"application/json"}),conflict:c["ConflictBehavior"].Fail}),this.thisShow=!1}},openEditor(t){this.reviseEditor({type:"template",target:t}),this.toggleEditor(!0)}}},d=h,u=i("8e3e"),p=Object(u["a"])(d,s,a,!1,null,null,null);e["a"]=p.exports},"3de6":function(t,e,i){},4563:function(t,e,i){t.exports=i.p+"img/file.1abd4bb7.svg"},"45a8":function(t,e,i){"use strict";i("1193")},4850:function(t,e,i){"use strict";i("fa53")},"4c9f":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.thisValue,expression:"thisValue"}],staticClass:"web-window-base-container",class:[{dark:"dark"===t.theme}]},[e("div",{staticClass:"web-window-base"},[e("div",{staticClass:"title-bar"},[e("p",{staticStyle:{"margin-left":"10px","user-select":"none"}},[t._v(t._s(t.title))]),e("button",{staticClass:"control-btn shut-down",on:{click:t.close}},[e("i",{staticClass:"ms-Icon ms-Icon--Cancel"})])]),e("div",{staticClass:"web-window-content-block"},[e("div",{staticClass:"w-row overflow"},[t._t("content")],2)]),e("div",{staticClass:"web-window-control-block"},[t._t("control",(function(){return[e("fv-button")]}))],2)])])},a=[],n={props:{value:{default:!0},title:{default:"Title"},theme:{default:"light"}},data(){return{thisValue:this.value}},watch:{value(t){this.thisValue=t},thisValue(t){this.$emit("input",t)}},methods:{close(){this.thisValue=!1}}},o=n,r=(i("d1b2"),i("8e3e")),l=Object(r["a"])(o,s,a,!1,null,null,null);e["a"]=l.exports},5298:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);var s=i("b1ed"),a=function(){var t=this,e=t._self._c;return e("div",{class:{dark:"dark"==t.theme},attrs:{id:"app"}},[e("navigation-view",{ref:"nav"}),e("transition",{attrs:{name:t.windowWidth>768||!t.show_editor?"scale-up-to-up":"scale-down-to-down"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.windowWidth>768||!t.show_editor,expression:"windowWidth > 768 || !show_editor"}],staticClass:"addition-container"},[e("div",{staticClass:"global-container"},[e("keep-alive",[e("router-view")],1)],1)])]),e("editor-container"),e("transition",{attrs:{name:"scale-up-to-up"}},[t.init_status?e("starter"):t._e()],1),e("progress-bar")],1)},n=[],o={Confirm:{en:"Confirm",cn:"ç¡®è®¤"},Cancel:{en:"Cancel",cn:"å–æ¶ˆ"},IKFB:{en:"IKFB",cn:"å¿«å·"},Setting:{en:"Setting",cn:"è®¾ç½®"},"Search Partitions":{en:"Search Partitions",cn:"æœç´¢åˆ†åŒº"},"New Item":{en:"New Item",cn:"æ–°å»ºé¡¹ç›®"},"New Partition":{en:"New Partition",cn:"æ–°å»ºåˆ†åŒº"},"New Group":{en:"New Group",cn:"æ–°å»ºåŒºç»„"},Rename:{en:"Rename",cn:"é‡å‘½å"},Delete:{en:"Delete",cn:"åˆ é™¤"},Add:{en:"Add",cn:"æ·»åŠ "},Templates:{en:"Templates",cn:"æ¨¡æ¿"},All:{en:"All",cn:"å…¨éƒ¨"},"New Group Name":{en:"New Group Name",cn:"æ–°çš„åŒºç»„å"},"New Partition Name":{en:"New Partition Name",cn:"æ–°çš„åˆ†åŒºå"},"Processing PDF":{en:"Processing PDF",cn:"PDFå¤„ç†ä¸­"},"Add Item":{en:"Add Item",cn:"æ–°å»ºé¡¹ç›®"},"Item Name":{en:"Item Name",cn:"é¡¹ç›®å"},"Add Page":{en:"Add Page",cn:"æ·»åŠ ç¬”è®°"},"Page Name":{en:"Page Name",cn:"ç¬”è®°åç§°"},Metadata:{en:"Metadata",cn:"å…ƒæ•°æ®"},"First Name":{en:"First Name",cn:"å"},"Last Name":{en:"Last Name",cn:"å§“æ°"},Sequence:{en:"Sequence",cn:"åºåˆ—"},"Rename Item":{en:"Rename Item",cn:"é‡å‘½åé¡¹ç›®"},"Rename Page":{en:"Rename Page",cn:"é‡å‘½åç¬”è®°"},"Init New Data Source":{en:"Init New Data Source",cn:"åˆå§‹åŒ–æ–°çš„æ•°æ®æº"},"Data Source Name":{en:"Data Source Name",cn:"æ•°æ®æºåç§°"},"Add Template":{en:"Add Template",cn:"æ·»åŠ æ¨¡æ¿"},"Template Name":{en:"Template Name",cn:"æ¨¡æ¿åç§°"},"Rename Template":{en:"Rename Template",cn:"é‡å‘½åæ¨¡æ¿"},"Open Folder":{en:"Open Folder",cn:"æ‰“å¼€æ–‡ä»¶å¤¹"},"Revise PDF":{en:"Revise PDF",cn:"ä¿®æ”¹PDFæ–‡ä»¶"},"Revise Metadata":{en:"Revise Metadata",cn:"ä¿®æ”¹å…ƒæ•°æ®"},"View Metadata":{en:"View Metadata",cn:"æŸ¥çœ‹å…ƒæ•°æ®"},"Copy to Partitions":{en:"Copy to Partitions",cn:"æ‹·è´åˆ°åˆ†åŒº"},"Remove From Partition":{en:"Remove From Partition",cn:"ä»Žåˆ†åŒºä¸­ç§»é™¤"},"Delete Item":{en:"Delete Item",cn:"åˆ é™¤é¡¹ç›®"},Import:{en:"Import",cn:"å¯¼å…¥"},"Delete Items":{en:"Delete Items",cn:"åˆ é™¤é¡¹ç›®"},Source:{en:"Source",cn:"æ•°æ®æº"},"Add New Source":{en:"Add New Source",cn:"æ·»åŠ æ–°çš„æ•°æ®æº"},Theme:{en:"Theme",cn:"ä¸»é¢˜"},"Switch to the dark theme":{en:"Switch to the dark theme",cn:"åˆ‡æ¢åˆ°æš—é»‘ä¸»é¢˜"},"Switch to the light theme":{en:"Switch to the light theme",cn:"åˆ‡æ¢åˆ°æ˜Žäº®ä¸»é¢˜"},Language:{en:"Language",cn:"è¯­è¨€"},"Remove Data Source":{en:"Remove Data Source",cn:"åˆ é™¤æ•°æ®æº"},"Delete Template":{en:"Delete Template",cn:"åˆ é™¤æ¨¡æ¿"},"Delete Templates":{en:"Delete Templates",cn:"æ‰¹é‡åˆ é™¤æ¨¡æ¿"},"Are you sure to delete this partition?":{en:"Are you sure to delete this partition?",cn:"ç¡®å®šåˆ é™¤æ­¤åˆ†åŒº?"},"Are you sure to delete this group?":{en:"Are you sure to delete this group?",cn:"ç¡®å®šåˆ é™¤æ­¤åŒºç»„?"},"Are you sure to delete this item?":{en:"Are you sure to delete this item?",cn:"ç¡®å®šåˆ é™¤æ­¤é¡¹ç›®?"},"Are you sure to delete these items?":{en:"Are you sure to delete these items?",cn:"ç¡®å®šåˆ é™¤è¿™äº›é¡¹ç›®?"},"Are you sure to remove this data source?":{en:"Are you sure to remove this data source?",cn:"ç¡®å®šåˆ é™¤æ­¤æ•°æ®æº?"},"Are you sure to delete this template?":{en:"Are you sure to delete this template?",cn:"ç¡®å®šåˆ é™¤æ­¤æ¨¡æ¿?"},"Are you sure to delete these templates?":{en:"Are you sure to delete these templates?",cn:"ç¡®å®šåˆ é™¤è¿™äº›æ¨¡æ¿?"},"Filtering from current content":{en:"Filtering from current content",cn:"ä»Žå½“å‰å†…å®¹ç­›é€‰"},"Are you sure to quit with out saved?":{en:"Are you sure to quit with out saved?",cn:"ç¡®å®šä¸ä¿å­˜é€€å‡ºå—?"},"There is no source, please add a data source to getting started.":{en:"There is no source, please add a data source to getting started.",cn:"æ‰¾ä¸åˆ°ä»»ä½•çš„æ•°æ®æº, è¯·åœ¨è®¾ç½®æ·»åŠ ä¸€ä¸ªæ•°æ®æºä»¥å¼€å§‹."},"Successfully update PDF file.":{en:"Successfully update PDF file.",cn:"æˆåŠŸæ›´æ–°PDFæ–‡ä»¶."},"Write something ...":{en:"Write something ...",cn:"å†™ç‚¹ä»€ä¹ˆå§ ..."},"Can't find data_structure.json on this source, shall we init new one ?":{en:"Can't find data_structure.json on this source, shall we init new one ?",cn:"æ— æ³•åœ¨æ­¤æ•°æ®æºæ‰¾åˆ°data_structure.json, æ˜¯å¦åˆå§‹åŒ–æ–°çš„é…ç½®?"},"Choose a source to start.":{en:"Choose a source to start.",cn:"é€‰æ‹©æ•°æ®æºä»¥å¼€å§‹."},"Choose A Language":{en:"Choose A Language",cn:"é€‰æ‹©è¯­è¨€"},"Choose Language":{en:"Choose Language",cn:"é€‰æ‹©è¯­è¨€"},Unselected:{en:"Unselected",cn:"æœªé€‰æ‹©"},Start:{en:"Start",cn:"å¼€å§‹"},Skip:{en:"Skip",cn:"è·³è¿‡"},"New Data Dource":{en:"New Data Dource",cn:"æ·»åŠ æ–°çš„æ•°æ®æº"},"Click Me to Choose Data Source Path ...":{en:"Click Me to Choose Data Source Path ...",cn:"ç‚¹å‡»æ­¤å¤„é€‰æ‹©æ•°æ®æºå­˜æ”¾åœ¨ä½•å¤„ ..."},"Data Source Name'":{en:"Data Source Name'",cn:"æ•°æ®æºåç§°"},"Exists Data Source":{en:"Exists Data Source",cn:"ä»ŽçŽ°æœ‰æ•°æ®æºæ¢å¤"},"Choose from Exists":{en:"Choose from Exists",cn:"ä»ŽçŽ°æœ‰é€‰æ‹©"},"Are you sure to delete this page?":{en:"Are you sure to delete this page?",cn:"ç¡®å®šè¦åˆ é™¤æ­¤ç¬”è®°?"},"Delete Page":{en:"Delete Page",cn:"åˆ é™¤ç¬”è®°"},"Item Labels":{en:"Item Labels",cn:"é¡¹ç›®æ ‡ç­¾"},"New item label (Press Enter)":{en:"New item label (Press Enter)",cn:"æ–°çš„é¡¹ç›®æ ‡ç­¾ (æŒ‰å›žè½¦ç¡®è®¤)"},"From Template":{en:"From Template",cn:"ä»Žæ¨¡æ¿å¼•ç”¨"},"Auto Save":{en:"Auto Save",cn:"è‡ªåŠ¨ä¿å­˜"},"Turn On Auto Save":{en:"Auto Save",cn:"è‡ªåŠ¨ä¿å­˜"},"Turn Off Auto Save":{en:"Turn Off",cn:"å…³é—­è‡ªåŠ¨"},"Input item name...":{en:"Input item name...",cn:"è¯·è¾“å…¥æ–°å»ºé¡¹çš„åç§°..."},"Create Time":{en:"Create Time",cn:"åˆ›å»ºæ—¶é—´"},"Multi-Selection":{en:"Multi-Selection",cn:"å¤šé€‰"},"Cancel Multi-Selection":{en:"Cancel Multi-Selection",cn:"å–æ¶ˆå¤šé€‰"},"Unlink this source":{en:"Unlink this source",cn:"å–æ¶ˆè¿žæŽ¥æ­¤æ•°æ®æº"},"Sort by":{en:"Sort by",cn:"æŒ‰ç±»åž‹æŽ’åº"},"Switch to Descending":{en:"Switch to Descending",cn:"åˆ‡æ¢åˆ°é™åº"},"Switch to Ascending":{en:"Switch to Ascending",cn:"åˆ‡æ¢åˆ°å‡åº"},"Retrieve Metadata":{en:"Retrieve Metadata",cn:"æ£€ç´¢å…ƒæ•°æ®"},"Searching Metadata":{en:"Searching Metadata",cn:"æ­£åœ¨æœç´¢å…ƒæ•°æ®"},"is required":{en:"is required",cn:"éœ€è¦è¢«è¡¥å……"},"Successfully copied to clipboard":{en:"Successfully copied to clipboard",cn:"æˆåŠŸå¤åˆ¶åˆ°å‰ªè´´æ¿"},"Select Type":{en:"Select Type",cn:"é€‰æ‹©ç±»åž‹"},"Generate BibTex":{en:"Generate BibTex",cn:"ç”ŸæˆBibTex"},"BibTex Content":{en:"BibTex Content",cn:"BibTexå†…å®¹"},"All Items":{en:"All Items",cn:"å…¨éƒ¨é¡¹"},"No any Content":{en:"No any Content",cn:"æ²¡æœ‰ä»»ä½•å†…å®¹"},"Click + to Add New Group & Partition":{en:"Click + to Add New Group & Partition",cn:"ç‚¹å‡» + æ·»åŠ æ–°çš„åˆ†ç»„å’Œåˆ†åŒº"},"Click + to Add New Item or Drag a PDF File to the Window":{en:"Click + to Add New Item or Drag PDF Files to the Window",cn:"ç‚¹å‡» + æ·»åŠ æ–°ä¸€ä¸ªæ–°é¡¹æˆ–è€…æ‹–æ‹½ä¸€äº›PDFæ–‡ä»¶åˆ°çª—å£"},"Add Labels":{en:"Add Labels",cn:"æ·»åŠ æ ‡ç­¾"},Item:{en:"Item",cn:"é¡¹"},Name:{en:"Name",cn:"åç§°"},Title:{en:"Title",cn:"æ ‡é¢˜"},Publisher:{en:"Publisher",cn:"å‡ºç‰ˆç¤¾"},"Create Date":{en:"Create Date",cn:"åˆ›å»ºæ—¥æœŸ"},Year:{en:"Year",cn:"å¹´ä»½"},Login:{en:"Login",cn:"ç™»å½•"},Logout:{en:"Logout",cn:"æ³¨é”€"}},r=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.progress>0&&t.progress<=100,expression:"progress > 0 && progress <= 100"}],staticClass:"ikfb-global-progress-bar"},[e("fv-progress-bar",{staticStyle:{width:"100%"},attrs:{value:t.progress,background:"transparent",foreground:"rgba(252, 194, 0, 1)"}})],1)},l=[],c=i("bcbe"),h={computed:{...Object(c["d"])({progress:t=>t.progress})}},d=h,u=(i("e0b7"),i("8e3e")),p=Object(u["a"])(d,r,l,!1,null,null,null),m=p.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ikfb-starter-container"},[e("fv-button",{directives:[{name:"show",rawName:"v-show",value:t.step>2,expression:"step > 2"}],staticClass:"left",staticStyle:{width:"30px",height:"30px"},attrs:{theme:"dark",background:"rgba(29, 85, 125, 1)","border-radius":50},on:{click:function(e){t.step>0?t.step--:t.step}}},[e("i",{staticClass:"ms-Icon ms-Icon--ChevronLeftMed"})]),e("fv-button",{staticClass:"right",staticStyle:{width:"80px",height:"30px"},attrs:{theme:"dark",background:"rgba(29, 85, 125, 1)","border-radius":50},on:{click:t.close}},[t._v(t._s(t.local("Skip")))]),e("transition",{attrs:{name:"scale-up-to-up"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.step,expression:"step === 0"}],staticClass:"item-block"},[e("fv-img",{staticStyle:{width:"80px",height:"auto"},attrs:{src:t.logo}}),e("p",{staticClass:"logo-title"},[t._v(t._s(t.local("IKFB"))+" PWA")]),e("fv-button",{staticClass:"starter-btn",attrs:{theme:"dark",background:"rgba(0, 130, 180, 1)"},on:{click:function(e){t.step++}}},[t._v(t._s(t.local("Start")))])],1)]),e("transition",{attrs:{name:"scale-up-to-up"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}],staticClass:"item-block"},[e("p",{staticClass:"title"},[t._v(t._s(t.local("Choose Language")))]),e("fv-Combobox",{attrs:{theme:"dark",options:t.languages,placeholder:t.local("Choose A Language"),background:"rgba(36, 36, 36, 1)"},on:{"choose-item":t.chooseLanguage},model:{value:t.cur_language,callback:function(e){t.cur_language=e},expression:"cur_language"}}),e("fv-button",{staticClass:"starter-btn",staticStyle:{"margin-top":"15px"},attrs:{theme:"dark",background:"rgba(0, 130, 180, 1)"},on:{click:function(e){t.step++}}},[t._v(t._s(t.local("Confirm")))])],1)]),e("transition",{attrs:{name:"scale-up-to-up"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step === 2"}],staticClass:"item-block"},[e("p",{staticClass:"title"},[t._v(t._s(t.local("New Data Dource")))]),e("fv-Breadcrumb",{staticStyle:{width:"100%","max-width":"768px",height:"30px","margin-top":"15px"},attrs:{theme:"dark",readOnly:!1},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.chooseSource.apply(null,arguments)}},model:{value:t.path,callback:function(e){t.path=e},expression:"path"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.lock.loading,expression:"lock.loading"}],staticClass:"tree-view-window"},[e("fv-TreeView",{staticStyle:{width:"100%",height:"100%",overflow:"auto"},attrs:{theme:"dark",expandedIconPosition:"right",background:"rgba(58, 118, 146, 1)","view-style":{backgroundColor:"rgba(58, 118, 146, 1)",backgroundColorHover:"rgba(58, 118, 146, 1)"}},on:{click:t.expandItem},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"tree-view-custom-item"},[i.item.loading?e("fv-progress-ring",{staticStyle:{display:"flex","align-item":"center"},attrs:{loading:"true",r:"10",borderWidth:"2",background:"rgba(200, 200, 200, 0.1)"}}):e("img",{staticClass:"icon-img",attrs:{draggable:"false",src:i.item.icon,alt:""}}),e("p",{staticClass:"tree-view-custom-label"},[t._v(t._s(i.item.name))])],1)]}}]),model:{value:t.treeList,callback:function(e){t.treeList=e},expression:"treeList"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.lock.loading,expression:"!lock.loading"}],staticClass:"loading-block"},[e("fv-img",{staticStyle:{width:"90px",height:"auto",margin:"15px"},attrs:{draggable:"false",src:t.img.OneDrive}}),e("fv-progress-ring",{attrs:{loading:"true",r:"15",borderWidth:"3",background:"rgba(200, 200, 200, 0.1)"}})],1),e("fv-button",{staticClass:"starter-btn",attrs:{theme:"dark",background:"rgba(0, 130, 180, 1)",disabled:""===t.path},on:{click:t.chooseSource}},[t._v(t._s(t.local("Confirm")))])],1)])],1)},f=[],v=i("9b19"),b=i.n(v),w=i("320d"),y=i.n(w),k=i("0a83"),C=i.n(k),_=i("4563"),S=i.n(_),x={data(){return{logo:b.a,step:0,treeList:[],cur_language:{},languages:[{key:"en",text:"English"},{key:"cn",text:"ç®€ä½“ä¸­æ–‡"}],path:"",img:{OneDrive:y.a,folder:C.a,file:S.a},lock:{loading:!0}}},watch:{step(t){2===t&&this.getRootInfo()}},computed:{...Object(c["d"])({onedrive:t=>t.onedrive,data_path:t=>t.data_path,data_index:t=>t.data_index,dbList:t=>t.dbList,language:t=>t.language,theme:t=>t.theme}),...Object(c["b"])(["local","cur_db"]),SourceIndexDisabled(){return t=>{if(!this.dbList[t])return!0;let e=this.dbList[t].get("id").write();return null===e}}},mounted(){this.languageInit()},methods:{...Object(c["c"])({reviseConfig:"reviseConfig",reviseData:"reviseData",reviseDS:"reviseDS"}),languageInit(){this.cur_language=this.languages.find(t=>t.key===this.language)},chooseLanguage(t){this.reviseConfig({v:this,language:t.key})},async chooseSource(){""!==this.path&&(this.data_path.push(this.path),await this.reviseConfig({v:this,data_path:this.data_path}),this.close())},async getRootInfo(){if(!this.lock.loading)return;this.lock.loading=!1;let t=await this.onedrive.getMyDriveRootChildren();if(t.value){let e=this.onedriveChildrenFormat(t.value);this.treeList=e}this.lock.loading=!0},onedriveChildrenFormat(t,e=null){let i=t;return i.forEach((t,s)=>{t.folder?(i[s].icon=this.img.folder,i[s].children=[]):i[s].icon=this.img.file,i[s].loading=!1,i[s].finished=!1,i[s].depth=e?e.depth+1:1,i[s].parent=e,i[s].path=e?e.path+"/"+i[s].name:i[s].name}),i},async expandItem(t){if(this.path=t.path,!t.folder)return;if(t.finished)return;t.loading=!0;let e=await this.onedrive.getMyDriveItemChildren(t.id);e.value&&(t.children=this.onedriveChildrenFormat(e.value,t)),t.finished=!0,t.loading=!1},close(){this.reviseConfig({v:this,init_status:!1})}}},I=x,D=(i("4850"),Object(u["a"])(I,g,f,!1,null,null,null)),N=D.exports,A=function(){var t=this,e=t._self._c;return e("fv-navigation-panel",{staticClass:"navigation-view",staticStyle:{"z-index":"2"},attrs:{title:t.local("IKFB"),expand:t.expand,theme:t.theme,background:t.navigationViewBackground,settingTitle:t.local("Setting"),expandWidth:380,mobileDisplay:"768",expandDisplay:"768","flyout-display":1280},on:{"update:expand":function(e){t.expand=e},"setting-click":()=>{t.Go("/settings"),t.collapseNav()},back:()=>{t.$Back(),t.collapseNav()}},scopedSlots:t._u([{key:"searchBlock",fn:function(){return[e("fv-search-box",{staticStyle:{width:"95%"},attrs:{options:t.flatPartitions,icon:"Search",placeholder:t.local("Search Partitions"),theme:t.theme,revealBorder:!0,borderWidth:"2",borderRadius:"6",isBoxShadow:!0},on:{"choose-result":t.SwitchPartition}})]},proxy:!0},{key:"panel",fn:function(){return[e("div",{staticClass:"navigation-view-template"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}],staticClass:"navigation-view-current-ds-block",on:{click:function(e){return t.Go("/settings")}}},[e("p",[t._v("âš¡")]),e("p",{staticClass:"title"},[t._v(t._s(t.name?t.name:t.local("Unselected")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}],staticClass:"navigation-view-tree-view-block"},[e("fv-TreeView",{directives:[{name:"show",rawName:"v-show",value:t.treeList.length>0,expression:"treeList.length > 0"}],staticStyle:{width:"100%",height:"100%",overflow:"auto"},attrs:{theme:t.theme,expandedIconPosition:"right",background:"dark"==t.theme?"rgba(7, 7, 7, 1)":"rgba(245, 245, 245, 1)","view-style":{backgroundColor:"dark"==t.theme?"rgba(7, 7, 7, 1)":"rgba(245, 245, 245, 1)",backgroundColorHover:"dark"==t.theme?"rgba(200, 200, 200, 0.1)":"rgba(120, 120, 120, 0.1)"}},on:{click:t.SwitchPartition},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"tree-view-custom-item",on:{contextmenu:function(e){return t.rightClick(e,i.item)}}},[e("emoji-callout",{attrs:{value:i.item.emoji,theme:t.theme},on:{"insert-emoji":function(e){return t.reviseEmoji(i.item,e)}}}),e("p",{directives:[{name:"show",rawName:"v-show",value:!i.item.editable,expression:"!x.item.editable"}],staticClass:"tree-view-custom-label"},[t._v(t._s(i.item.name))]),e("fv-text-box",{directives:[{name:"show",rawName:"v-show",value:i.item.editable,expression:"x.item.editable"}],ref:"t:"+i.item.id,staticClass:"tree-view-custom-text-box",attrs:{theme:t.theme},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.rename(i.item)}},model:{value:i.item.name,callback:function(e){t.$set(i.item,"name",e)},expression:"x.item.name"}}),e("fv-button",{directives:[{name:"show",rawName:"v-show",value:i.item.editable,expression:"x.item.editable"}],staticClass:"tree-view-custom-confirm",attrs:{theme:t.theme,borderRadius:"50"},on:{click:function(e){return t.rename(i.item)}}},[e("i",{staticClass:"ms-Icon ms-Icon--CheckMark"})])],1)]}}]),model:{value:t.treeList,callback:function(e){t.treeList=e},expression:"treeList"}}),e("nav-empty",{directives:[{name:"show",rawName:"v-show",value:0===t.treeList.length,expression:"treeList.length === 0"}]}),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.SourceDisabled,expression:"SourceDisabled"}],attrs:{title:t.local("Choose a source to start.")}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}],staticClass:"navigation-view-command-bar-block"},[e("fv-command-bar",{attrs:{options:t.cmdList,theme:t.theme,toward:"up"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.expand,expression:"!expand"}],staticClass:"navigation-view-command-bar-block-collapse"},[e("fv-button",{staticClass:"collapse-command-btn",attrs:{theme:t.theme,disabled:t.SourceDisabled,borderWidth:1,borderRadius:0,background:"dark"==t.theme?"rgba(7, 7, 7, 1)":"rgba(245, 245, 245, 1)",title:t.local("All")},on:{click:function(e){return t.Go("/")}}},[e("i",{staticClass:"ms-Icon ms-Icon--PrintAllPages",staticStyle:{color:"rgba(0, 90, 158, 1)"}})]),e("fv-button",{staticClass:"collapse-command-btn",attrs:{theme:t.theme,disabled:t.SourceDisabled,borderWidth:1,borderRadius:0,background:"dark"==t.theme?"rgba(7, 7, 7, 1)":"rgba(245, 245, 245, 1)",title:t.local("Templates")},on:{click:function(e){return t.Go("/templates")}}},[e("i",{staticClass:"ms-Icon ms-Icon--FileTemplate",staticStyle:{color:"rgba(0, 153, 204, 1)"}})]),e("fv-button",{staticClass:"collapse-command-btn",attrs:{theme:t.theme,disabled:t.SourceDisabled,borderWidth:1,borderRadius:0,background:"dark"==t.theme?"rgba(7, 7, 7, 1)":"rgba(245, 245, 245, 1)",title:t.local("Add Partition")},on:{click:function(e){return t.collapseFunc(t.addPartition)}}},[e("i",{staticClass:"ms-Icon ms-Icon--Dictionary",staticStyle:{color:"rgba(213, 99, 70, 1)"}})]),e("fv-button",{staticClass:"collapse-command-btn",attrs:{theme:t.theme,disabled:t.SourceDisabled,borderWidth:1,borderRadius:0,background:"dark"==t.theme?"rgba(7, 7, 7, 1)":"rgba(245, 245, 245, 1)",title:t.local("Add Group")},on:{click:function(e){return t.collapseFunc(t.addGroup)}}},[e("i",{staticClass:"ms-Icon ms-Icon--ViewListGroup",staticStyle:{color:"rgba(172, 84, 206, 1)"}})])],1)]),e("right-menu",{attrs:{theme:t.theme,posX:t.posX,posY:t.posY,rightMenuWidth:t.rightMenuWidth},on:{"update-height":function(e){t.rightMenuHeight=e}},model:{value:t.show.rightMenu,callback:function(e){t.$set(t.show,"rightMenu",e)},expression:"show.rightMenu"}},[e("div",[t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:"group"===t.rightMenuItem.type,expression:"rightMenuItem.type === 'group'"}],on:{click:function(e){return t.addPartitionAt(t.rightMenuItem)}}},[e("i",{staticClass:"ms-Icon ms-Icon--Dictionary",staticStyle:{color:"rgba(213, 99, 70, 1)"}}),e("p",[t._v(t._s(t.local("New Partition")))])]),e("span",{directives:[{name:"show",rawName:"v-show",value:"group"===t.rightMenuItem.type,expression:"rightMenuItem.type === 'group'"}],on:{click:function(e){return t.addGroupAt(t.rightMenuItem)}}},[e("i",{staticClass:"ms-Icon ms-Icon--ViewListGroup",staticStyle:{color:"rgba(172, 84, 206, 1)"}}),e("p",[t._v(t._s(t.local("New Group")))])]),e("hr"),e("span",{on:{click:function(e){t.rightMenuItem.editable=!0}}},[e("i",{staticClass:"ms-Icon ms-Icon--Rename",staticStyle:{color:"rgba(0, 120, 212, 1)"}}),e("p",[t._v(t._s(t.local("Rename")))])]),e("span",{on:{click:function(e){return t.deleteConfirm(t.rightMenuItem)}}},[e("i",{staticClass:"ms-Icon ms-Icon--Delete",staticStyle:{color:"rgba(173, 38, 45, 1)"}}),e("p",[t._v(t._s(t.local("Delete")))])])])])]},proxy:!0}])})},j=[],P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ikfb-loading-container",class:[{dark:"dark"===t.theme}]},[e("p",{staticClass:"title"},[t._v(t._s(t.title))])])},T=[],O={props:{title:{default:"Loading ..."}},computed:{...Object(c["d"])({theme:t=>t.theme})}},L=O,$=(i("78fb"),Object(u["a"])(L,P,T,!1,null,null,null)),M=$.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-empty-container",class:[{dark:"dark"===t.theme}]},[e("img",{staticClass:"empty-arrowhead",attrs:{draggable:"false",src:i("3620"),alt:""}}),e("div",{staticClass:"nec-d1"},[t._m(0),e("p",{staticClass:"nec-content"},[t._v(t._s(t.local("No any Content")))]),e("p",{staticClass:"nec-content"},[t._v(t._s(t.local("Click + to Add New Group & Partition")))])])])},E=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nec-icon-block"},[e("i",{staticClass:"ms-Icon ms-Icon--ViewListGroup",staticStyle:{color:"rgba(172, 84, 206, 1)"}}),e("i",{staticClass:"ms-Icon ms-Icon--Dictionary",staticStyle:{color:"rgba(213, 99, 70, 1)"}})])}],V={computed:{...Object(c["d"])({theme:t=>t.theme}),...Object(c["b"])(["local"])}},R=V,B=(i("10f2"),Object(u["a"])(R,F,E,!1,null,null,null)),W=B.exports,G=i("820f"),J=i("0e93"),H=i("bb93"),q={components:{loading:M,navEmpty:W,rightMenu:G["a"],emojiCallout:J["a"]},props:{rightMenuWidth:{default:200}},data(){return{expand:!0,cmdList:[{name:()=>this.local("Add"),icon:"Add",iconColor:"rgba(0, 90, 158, 1)",disabled:()=>this.SourceDisabled,secondary:[{name:()=>this.local("New Partition"),func:this.addPartition,icon:"Dictionary",disabled:()=>this.SourceDisabled,iconColor:"rgba(213, 99, 70, 1)"},{type:"divider"},{name:()=>this.local("New Group"),func:this.addGroup,icon:"ViewListGroup",disabled:()=>this.SourceDisabled,iconColor:"rgba(172, 84, 206, 1)"}]},{name:()=>this.local("Templates"),icon:"FileTemplate",iconColor:"rgba(0, 153, 204, 1)",func:()=>{this.Go("/templates"),this.collapseNav()},disabled:()=>this.SourceDisabled},{name:()=>this.local("All Items"),icon:"PrintAllPages",iconColor:"rgba(0, 90, 158, 1)",func:()=>{this.Go("/"),this.collapseNav()},disabled:()=>this.SourceDisabled}],treeList:[],FLAT:[],posX:0,posY:0,rightMenuItem:{},rightMenuHeight:0,show:{rightMenu:!1}}},watch:{groups(){this.refreshTreeList()},partitions(){this.refreshTreeList()}},computed:{...Object(c["d"])({data_path:t=>t.data_path,data_index:t=>t.data_index,language:t=>t.language,windowWidth:t=>t.window.width,windowHeight:t=>t.window.height,ds_id:t=>t.data_structure.id,name:t=>t.data_structure.name,groups:t=>t.data_structure.groups,partitions:t=>t.data_structure.partitions,theme:t=>t.theme}),...Object(c["b"])(["local","cur_db"]),navigationViewBackground(){return"light"==this.theme?"rgba(242, 242, 242, 0.8)":"rgba(0, 0, 0, 0.8)"},SourceDisabled(){return null===this.cur_db||!this.ds_id},flatPartitions(){let t=[],e=[].concat(this.treeList);for(let i=0;i<e.length;i++)e[i].children&&(e=e.concat(e[i].children)),t.push(e[i]);return t}},mounted(){setTimeout(()=>{this.windowWidth<=768&&(this.expand=!1)},300),this.refreshTreeList()},methods:{...Object(c["c"])({reviseDS:"reviseDS",reviseI18N:"reviseI18N"}),refreshTreeList(){let t=[];this.saveExpandedStatus(),this.groups.forEach(e=>{let i=this.dfsTree(e);t.push(i)}),t=t.concat(this.transPartitions(this.partitions)),this.treeList=t},dfsTree(t){let e=JSON.parse(JSON.stringify(t));e.children=e.groups,e.editable=void 0!=e.editable&&e.editable,e.type="group",e.icon="Folder";let i=this.FLAT.find(t=>t.id===e.id);if(i&&(e.expanded=i.expanded),void 0==e.children||0==e.children.length)return e.children=this.transPartitions(e.partitions),e;for(let s=0;s<e.children.length;s++)e.children[s]=this.dfsTree(e.children[s]);return e.children=e.children.concat(this.transPartitions(e.partitions)),e},transPartitions(t){let e=JSON.parse(JSON.stringify(t));return e.forEach((t,i)=>{t.editable=void 0!=t.editable&&t.editable,t.type="partition",t.icon="FileCode",e[i]=t}),e},saveExpandedStatus(){this.FLAT=[];let t=[].concat(this.treeList);for(let e=0;e<t.length;e++)t[e].children&&(t=t.concat(t[e].children)),this.FLAT.push(t[e])},addGroup(t=null){let e=JSON.parse(JSON.stringify(H["c"]));e.id=this.$Guid(),e.name=this.local("New Group Name"),e.emoji="ðŸ“",e.createDate=this.$SDate.DateToString(new Date),e.editable=!0,t?t.groups.push(e):this.groups.push(e),this.reviseDS({$index:this.data_index,groups:this.groups}),setTimeout(()=>{let t=this.$refs["t:"+e.id];t.focus(),document.execCommand("selectAll")},300)},addPartition(t=null){let e=JSON.parse(JSON.stringify(H["g"]));e.id=this.$Guid(),e.name=this.local("New Partition Name"),e.emoji="ðŸ“”",e.createDate=this.$SDate.DateToString(new Date),e.editable=!0,t?t.partitions.push(e):this.partitions.push(e),this.reviseDS({$index:this.data_index,partitions:this.partitions}),setTimeout(()=>{let t=this.$refs["t:"+e.id];t.focus(),document.execCommand("selectAll")},300)},addGroupAt(t){if("group"!==t.type)return;let e=t.id,i=[].concat(this.groups);for(let s=0;s<i.length;s++)if(i[s].groups&&(i=i.concat(i[s].groups)),i[s].id===e){this.addGroup(i[s]);break}i=[].concat(this.treeList);for(let s=0;s<i.length;s++)if(i[s].children&&(i=i.concat(i[s].children)),i[s].id===e){i[s].expanded=!0;break}this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions}),this.refreshTreeList()},addPartitionAt(t){if("group"!==t.type)return;let e=t.id,i=[].concat(this.groups);for(let s=0;s<i.length;s++)if(i[s].groups&&(i=i.concat(i[s].groups)),i[s].id===e){this.addPartition(i[s]);break}i=[].concat(this.treeList);for(let s=0;s<i.length;s++)if(i[s].children&&(i=i.concat(i[s].children)),i[s].id===e){i[s].expanded=!0;break}this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions}),this.refreshTreeList()},rename(t){let e=t.id,i=t.name,s=[].concat(this.groups);for(let a=0;a<s.length;a++)if(s[a].groups&&(s=s.concat(s[a].groups)),s[a].partitions&&(s=s.concat(s[a].partitions)),s[a].id===e){s[a].name=i,s[a].editable=!1;break}for(let a=0;a<this.partitions.length;a++)if(this.partitions[a].id===e){this.partitions[a].name=i,this.partitions[a].editable=!1;break}this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions}),this.refreshTreeList()},reviseEmoji(t,e){let i=t.id,s=[].concat(this.groups);for(let a=0;a<s.length;a++)if(s[a].groups&&(s=s.concat(s[a].groups)),s[a].partitions&&(s=s.concat(s[a].partitions)),s[a].id===i){s[a].emoji=e;break}for(let a=0;a<this.partitions.length;a++)if(this.partitions[a].id===i){this.partitions[a].emoji=e;break}this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions}),this.refreshTreeList()},deleteConfirm(t){this.$infoBox(this.local(`Are you sure to delete this ${t.type}?`),{status:"error",title:this.local("Delete"),confirmTitle:this.local("Confirm"),cancelTitle:this.local("Cancel"),theme:this.theme,confirm:()=>{this.delete(t)},cancel:()=>{}})},delete(t){let e=t.id;this.$route.params.id===e&&this.$Go("/");for(let s=0;s<this.groups.length;s++)if(this.groups[s].id===e){this.groups.splice(s,1);break}for(let s=0;s<this.partitions.length;s++)if(this.partitions[s].id===e){this.partitions.splice(s,1);break}let i=[].concat(this.groups);for(let s=0;s<i.length;s++){if(i[s].groups&&(i=i.concat(i[s].groups)),i[s].groups&&i[s].groups.length>0){let t=i[s].groups.find(t=>t.id===e),a=i[s].groups.indexOf(t);if(a>-1){i[s].groups.splice(a,1);break}}if(i[s].partitions&&i[s].partitions.length>0){let t=i[s].partitions.find(t=>t.id===e),a=i[s].partitions.indexOf(t);if(a>-1){i[s].partitions.splice(a,1);break}}}this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions}),this.refreshTreeList()},rightClick(t,e){t.preventDefault(),this.show.rightMenu=!0;let i=this.$el.getBoundingClientRect(),s={};s.x=t.x,s.y=t.y,s.x<i.left&&(s.x=i.left),s.x+this.rightMenuWidth>i.right&&(s.x=i.right-this.rightMenuWidth),s.y<i.top&&(s.y=i.top),s.y+this.rightMenuHeight>i.bottom&&(s.y=i.bottom-this.rightMenuHeight),this.posX=s.x,this.posY=s.y,this.rightMenuItem=e},collapseNav(){this.windowWidth<=768&&(this.expand=!1)},collapseFunc(t){this.expand=!0,t()},SwitchPartition(t){if("group"===t.type)return 0;let e=t.id;if(this.$route.params.id===e)return 0;this.$Go("/partitions/"+e),this.collapseNav()},Go(t){if(this.$route.path===t)return 0;this.$Go(t)}}},z=q,X=(i("45a8"),Object(u["a"])(z,A,j,!1,null,null,null)),Y=X.exports,U=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:t.show_editor?"move-right-to-left":"move-left-to-right"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_editor,expression:"show_editor"}],staticClass:"ikfb-editor-container",class:[{dark:"dark"==t.theme,fullScreen:t.windowWidth<=768||t.fullScreen}]},[e("div",{staticClass:"control-banner"},[e("div",{staticClass:"control-left-block"},[t.item&&t.item.pages?e("fv-button",{staticClass:"control-btn",attrs:{theme:t.theme,borderRadius:30},on:{click:function(e){t.show.quickNav^=!0}}},[e("i",{staticClass:"ms-Icon",class:[t.show.quickNav?"ms-Icon--RemoveFromShoppingList":"ms-Icon--PageList"]})]):t._e(),e("fv-button",{directives:[{name:"show",rawName:"v-show",value:t.windowWidth>768,expression:"windowWidth > 768"}],staticClass:"control-btn",attrs:{theme:t.theme,borderRadius:30},on:{click:function(e){t.fullScreen^=!0}}},[e("i",{staticClass:"ms-Icon",class:[t.fullScreen?"ms-Icon--BackToWindow":"ms-Icon--FullScreen"]})]),e("fv-button",{staticClass:"control-btn",attrs:{theme:t.theme,borderRadius:30},on:{click:function(e){t.readonly=1!=t.readonly}}},[e("i",{staticClass:"ms-Icon",class:["ms-Icon--"+(!0===t.readonly?"PageEdit":"ReadingMode")]})]),e("fv-button",{staticClass:"control-btn",attrs:{theme:t.theme,borderRadius:30},on:{click:function(e){t.expandContent=1!=t.expandContent}}},[e("i",{staticClass:"ms-Icon",class:["ms-Icon--"+(!0===t.expandContent?"StaplingPortraitBookBinding":"StaplingLandscapeTwoTop")]})]),e("fv-button",{directives:[{name:"show",rawName:"v-show",value:t.unsave,expression:"unsave"}],staticClass:"control-btn",attrs:{theme:t.theme,borderRadius:30,background:"rgba(0, 204, 153, 1)"}},[t._v(" "+t._s("")+" ")])],1),e("div",{staticClass:"control-right-block"},[e("fv-toggle-switch",{staticClass:"save-btn",attrs:{title:t.local("Auto Save"),on:t.local("Turn Off Auto Save"),off:t.local("Turn On Auto Save"),onForeground:"dark"===t.theme?"#fff":"#000",offForeground:"dark"===t.theme?"#fff":"#000"},model:{value:t.auto_save,callback:function(e){t.auto_save=e},expression:"auto_save"}}),e("fv-button",{staticClass:"control-btn",attrs:{theme:t.theme,borderRadius:30},on:{click:t.close}},[e("i",{staticClass:"ms-Icon ms-Icon--Cancel"})])],1)]),t.showNav?e("div",{staticClass:"nav-banner"},[e("fv-Breadcrumb",{staticStyle:{"font-size":"12px","white-space":"nowrap"},attrs:{value:`${t.item.name}/${t.target.name}`,disabled:0===t.history.length,theme:t.theme,rootIcon:t.history.length>0?"PageLeft":"FolderHorizontal"},on:{"root-click":t.back}})],1):t._e(),e("power-editor",{directives:[{name:"show",rawName:"v-show",value:t.lock.loading,expression:"lock.loading"}],ref:"editor",staticStyle:{position:"relative",width:"100%",height:"calc(100% - 40px)",flex:"1"},style:{height:`calc(100% - ${t.showNav?80:40}px)`,"font-size":t.fontSize+"px"},attrs:{value:t.content,placeholder:t.local("Write something ..."),editable:!t.readonly,theme:t.theme,language:t.language,editorOutSideBackground:"dark"==t.theme?"rgba(47, 52, 55, 1)":"white",contentMaxWidth:t.expandContent?"99999px":"900px",mobileDisplayWidth:768,mentionItemAttr:t.editorMentionItemAttr},on:{"save-json":t.saveContent},nativeOn:{click:function(e){t.show.quickNav=!1}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.lock.loading,expression:"!lock.loading"}],staticClass:"loading-block"},[e("fv-progress-ring",{attrs:{loading:"true",r:"20",borderWidth:"5",background:"rgba(255, 255, 255, 0.1)"}})],1),e("div",{staticClass:"bottom-control",class:[{dark:"dark"==t.theme},{close:!t.show.bottomControl}]},[e("i",{staticClass:"ms-Icon trigger",class:["ms-Icon--"+(t.show.bottomControl?"ChevronRightMed":"ChevronLeftMed")],staticStyle:{flex:"1"},on:{click:function(e){t.show.bottomControl^=!0}}}),e("fv-slider",{directives:[{name:"show",rawName:"v-show",value:t.show.bottomControl,expression:"show.bottomControl"}],staticStyle:{width:"150px","margin-right":"15px"},attrs:{mininum:12,maxinum:72,icon:"RadioBullet",color:"rgba(87, 156, 193, 1)",showLabel:!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e("p",{staticStyle:{margin:"5px"}},[t._v(t._s(i.value)+"px")])]}}]),model:{value:t.fontSize,callback:function(e){t.fontSize=e},expression:"fontSize"}})],1),e("transition",{attrs:{name:t.show.quickNav?"move-left-to-right":"move-right-to-left"}},[t.item&&t.item.id?e("div",{directives:[{name:"show",rawName:"v-show",value:t.show.quickNav,expression:"show.quickNav"}],staticClass:"quick-nav-block",class:[{dark:"dark"==t.theme}]},[t._l(t.item.pages,(function(i,s){return e("div",{key:s,staticClass:"item",class:[{choosen:i.id==t.target.id}],on:{click:function(e){return t.openEditor(t.item,i)}}},[e("p",[t._v(t._s(i.emoji))]),e("div",{staticClass:"info-content-block"},[e("p",{staticClass:"highlight"},[t._v(t._s(i.name))]),e("p",{staticClass:"sec date"},[t._v(t._s(i.id))])]),e("p",{staticClass:"sec"},[t._v(t._s(i.createDate))])])})),e("div",{staticClass:"item",on:{click:function(e){t.show.addItemPage=!0}}},[e("i",{staticClass:"ms-Icon ms-Icon--Add"}),e("p",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.local("Add Page")))])])],2):t._e()]),t.item&&t.item.id?e("add-item-page",{attrs:{show:t.show.addItemPage,item:t.item},on:{"update:show":function(e){return t.$set(t.show,"addItemPage",e)}}}):t._e()],1)])},K=[],Q=i("36d6"),Z=i("d048"),tt={components:{addItemPage:Q["a"]},data(){return{content:"",readonly:!1,fontSize:16,fullScreen:!1,expandContent:!1,unsave:!1,auto_save:!1,editorMentionItemAttr:{mentionList:t=>this.mentionList(t),filterFunc:()=>!0,chooseItemCallback:()=>{console.log("chooseItemCallback")},mentionClickCallback:t=>{"item"===t.type?this.openFile(t.pdf?`${t.id}/${t.pdf}.pdf`:t.id):"page"===t.type&&this.openEditor(t.parent,t._page)},headerForeground:"rgba(0, 120, 212, 1)"},lock:{loading:!0},show:{quickNav:!1,addItemPage:!1,bottomControl:!1},timeout:{autoSave:void 0}}},watch:{$route(){this.unsave=!1},show_editor(){this.unsave=!1,this.refreshContent()},target(){this.unsave=!1,this.refreshContent(),this.$nextTick(()=>{this.scrollToTop(this.scrollTop)})}},computed:{...Object(c["d"])({root:t=>t.root,data_path:t=>t.data_path,data_index:t=>t.data_index,templates:t=>t.data_structure.templates,language:t=>t.language,theme:t=>t.theme,windowWidth:t=>t.window.width,windowHeight:t=>t.window.height,show_editor:t=>t.editor.show,type:t=>t.editor.type,scrollTop:t=>t.editor.scrollTop,history:t=>t.editor.history,item:t=>t.editor.item,items:t=>t.data_structure.items,target:t=>t.editor.target}),...Object(c["b"])(["local","cur_db"]),mentionList(){return t=>{let e=[],i=[];e.push({key:-1,name:this.local("Item"),type:"header"});let s=t.split("/").length>1?t.split("/")[1]:"";return this.items.forEach((e,a)=>{(e.name.toLowerCase().indexOf(t.toLowerCase())>-1||e.name.toLowerCase().indexOf(t.split("/")[0].toLowerCase())>-1)&&(i.push({key:a,id:e.id,name:`${e.emoji} ${e.name}`,emoji:e.emoji,pdf:e.pdf,type:"item"}),t.indexOf("/")>-1&&(e.pages.forEach((t,n)=>{t.name.toLowerCase().indexOf(s.toLowerCase())>-1&&i.push({key:a+"-"+n,id:t.id,name:`${t.emoji}  ${t.name}`,emoji:t.emoji,icon:"Go",iconColor:"light"===this.theme?"rgba(36, 36, 36, 1)":"rgba(220, 220, 220, 1)",parent:e,_page:t,type:"page"})}),i.push({key:a+"-divider",name:"-",type:"divider"})))}),i=i.slice(0,20),e=e.concat(i),e}},showNav(){return"item"===this.type&&this.item.name&&this.target.name}},mounted(){this.ShortCutInit(),this.TimeoutInit()},methods:{...Object(c["c"])({reviseDS:"reviseDS",reviseEditor:"reviseEditor",toggleEditor:"toggleEditor"}),TimeoutInit(){this.timeout.autoSave=setInterval(this.editorSave,1e3)},TimeoutDestroy(){clearInterval(this.timeout.autoSave)},ShortCutInit(){this.$el.addEventListener("keydown",t=>{if(83===t.keyCode&&t.ctrlKey)this.$refs.editor.save(),this.unsave=!1;else{let e=[16,17,18,20];e.indexOf(t.keyCode)<0&&(this.readonly||(this.unsave=!0))}9===t.keyCode&&(t.preventDefault(),this.$refs.editor.editor.commands.insertContent("    "))})},async refreshContent(){if(!this.lock.loading)return;if(this.lock.loading=!1,!this.type||!this.target.id)return;let t="template"===this.type?"root/templates":"root/items";if("item"===this.type){if(!this.item)return;t=`${t}/${this.item.id}`}let e=await this.cur_db.readFile(`${t}/${this.target.id}.json`);try{this.content=JSON.parse(e),this.lock.loading=!0}catch(i){this.content=e,this.lock.loading=!0}""===this.content&&this.$refs.editor.focus()},editorSave(){this.auto_save&&this.show_editor&&this.unsave&&this.$refs.editor.save()},async saveContent(t){if(!this.type||!this.target.id)return;let e="template"===this.type?"root/templates":"root/items";if("item"===this.type){if(!this.item)return;e=`${e}/${this.item.id}`}const i=await this.root.clone().path(e).getAsync();void 0!==i&&(await this.root.clone().item(i.id).path(this.target.id+".json").uploadAsync({file:new File([JSON.stringify(t)],this.target.id+".json",{type:"application/json"}),conflict:Z["ConflictBehavior"].Replace}),this.unsave=!1)},openEditor(t,e){this.lock.loading&&("item"===this.type&&this.item&&this.target&&this.history.push({type:this.type,item:this.item,page:this.target,scrollTop:this.getScrollTop()}),this.reviseEditor({type:"item",item:t,target:e,scrollTop:0,history:this.history}))},openFile(t){console.log(t)},back(){let t=this.history[this.history.length-1];this.history.splice(this.history.length-1,1),this.reviseEditor({type:t.type,item:t.item,target:t.page,scrollTop:t.scrollTop,history:this.history})},scrollToTop(t){let e=this.$el.querySelectorAll(".tip-tap-editor-container")[0];e&&(e.scrollTop=t)},getScrollTop(){let t=this.$el.querySelectorAll(".tip-tap-editor-container")[0];return t.scrollTop?t.scrollTop:0},close(){this.unsave?this.$infoBox(this.local("Are you sure to quit with out saved?"),{status:"default",title:this.local("Confirm"),confirmTitle:this.local("Confirm"),cancelTitle:this.local("Cancel"),theme:this.theme,confirm:()=>{this.toggleEditor(!1)},cancel:()=>{}}):this.toggleEditor(!1)}},beforeDestroy(){this.TimeoutDestroy()}},et=tt,it=(i("cc52"),Object(u["a"])(et,U,K,!1,null,null,null)),st=it.exports,at={name:"App",components:{starter:N,progressBar:m,navigationView:Y,editorContainer:st},data(){return{show:{drop:!1}}},watch:{data_index(){this.syncDS()},data_path(){this.syncDSDB()}},computed:{...Object(c["d"])({graphAPI:t=>t.graphAPI,userInfo:t=>t.userInfo,init_status:t=>t.init_status,data_path:t=>t.data_path,data_index:t=>t.data_index,language:t=>t.language,windowWidth:t=>t.window.width,windowHeight:t=>t.window.height,show_editor:t=>t.editor.show,theme:t=>t.theme}),...Object(c["b"])(["local","cur_db"])},mounted(){this.getLocalStorage(),this.onedriveInit(),this.syncDSDB(),this.i18nInit(),this.refreshWindowSizeInit(),"/"!==this.$route.path&&this.$Go("/")},methods:{...Object(c["c"])({setGraphAPI:"setGraphAPI",setRootAPI:"setRootAPI",reviseConfig:"reviseConfig",reviseData:"reviseData",reviseDS:"reviseDS",reviseI18N:"reviseI18N",setWindowSize:"setWindowSize",saveLocalStorage:"saveLocalStorage",getLocalStorage:"getLocalStorage",cleanLocalStorage:"cleanLocalStorage"}),i18nInit(){this.reviseI18N(o)},refreshWindowSizeInit(){this.timer=setInterval(()=>{let t=document.body.clientWidth,e=document.body.clientHeight;this.setWindowSize({width:t,height:e})},100)},async onedriveInit(){let t=new Z["GraphAPI"]({clientId:"04504778-db6b-4ac9-8685-94f3996766d4",scopes:[Z["PermissionScope"].UserReadAll,Z["PermissionScope"].FilesReadWriteAll]});this.setGraphAPI(t)},async syncDSDB(){let t=this.data_path,e=await this.$load_ds_file(this.graphAPI,t,this.updateProgress);if(404==e.status&&!this.init_status)return void this.$barWarning(this.local("There is no source, please add a data source to getting started."),{status:"warning",autoClose:-1});let i=e.dbXList,s=[];i.forEach(t=>{s.push(t.db)}),this.reviseData({dbList:s}),this.syncDS()},async syncDS(){if(!this.cur_db)return 0;let t=JSON.parse(JSON.stringify(H["b"]));Object.assign(t,this.cur_db.ds),t.$index=this.data_index,this.reviseDS(t);let e=this.graphAPI.OneDrive.Drive().path(this.data_path[this.data_index]),i=await e.getAsync();e=i.remoteItem?e.drive(i.remoteItem.parentReference.driveId).item(i.remoteItem.id).path():e.path().item(i.id),this.setRootAPI(e)},updateProgress(t){this.reviseConfig({progress:t})},Go(t){if(this.$route.path===t)return 0;this.$Go(t)}}},nt=at,ot=(i("6fad"),Object(u["a"])(nt,a,n,!1,null,null,null)),rt=ot.exports,lt=i("fb74");Object(lt["a"])("/FunBook/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var ct=i("1783");const ht=function(t){const e=()=>({component:t,loading:M,error:M,delay:100,timeout:1e4});return Promise.resolve({render(t){return t(e)}})};window.AsyncLoad=ht;var dt={AsyncLoad:ht};s["default"].use(ct["a"]);const ut=dt.AsyncLoad,pt=[{path:"/",name:"Home",component:()=>ut(i.e("chunk-40b851e8").then(i.bind(null,"7abe")))},{path:"/partitions/:id",name:"Home",component:()=>ut(i.e("chunk-40b851e8").then(i.bind(null,"7abe")))},{path:"/templates",name:"Templates",component:()=>ut(i.e("chunk-c8d8d83e").then(i.bind(null,"54e6")))},{path:"/settings",name:"Settings",component:()=>ut(i.e("chunk-2d018f2f").then(i.bind(null,"61c2")))},{path:"/dev",name:"Dev",component:()=>ut(i.e("chunk-6c3093e0").then(i.bind(null,"44e7")))}],mt=new ct["a"]({mode:"hash",base:"/FunBook/",routes:pt});var gt=mt;s["default"].use(c["a"]);var ft=new c["a"].Store({state:{init_status:!0,data_path:[],data_index:-1,language:"en",theme:"light",graphAPI:null,root:null,userInfo:null,progress:0,data_structure:{id:null,name:null,groups:[],partitions:[],items:[],templates:[],path:null,createDate:null},editor:{show:!1,type:null,item:null,target:null,scrollTop:0,history:[]},window:{width:0,height:0,mobileDisplay:768},dbList:[],i18n:{}},mutations:{setGraphAPI(t,e){t.graphAPI=e},setRootAPI(t,e){t.root=e},reviseConfig(t,e){for(let i in e)"v"!==i&&void 0!==t[i]&&(t[i]=e[i],this.commit("saveLocalStorage"))},reviseDS(t,e){for(let i in e)"$index"!==i&&void 0!==t.data_structure[i]&&(t.data_structure[i]=e[i]);if(null!==t.root){const e=new File([],"~$data_structure.json",{type:"application/json"});t.root.clone().path(e.name).uploadAsync({file:e,conflict:Z["ConflictBehavior"].Fail}).then(()=>{const i=new File([JSON.stringify(t.data_structure)],"data_structure.json",{type:"application/json"});t.root.clone().path(i.name).uploadAsync({file:i,conflict:Z["ConflictBehavior"].Replace}).then(()=>{t.root.clone().path(e.name).delAsync()})})}},reviseData(t,e){for(let i in e)void 0!==t[i]&&(t[i]=e[i])},reviseEditor(t,e){for(let i in e)void 0!==t.editor[i]&&(t.editor[i]=e[i])},reviseI18N(t,e){t.i18n=e},setWindowSize(t,e){t.window.width=e.width,t.window.height=e.height},saveLocalStorage(t){localStorage.setItem("configCache",JSON.stringify({init_status:t.init_status,data_path:t.data_path,data_index:t.data_index,language:t.language,theme:t.theme}))},getLocalStorage(t){let e=localStorage.getItem("configCache");if(e){let i=JSON.parse(e);t.init_status=i.init_status,t.data_path=i.data_path,t.data_index=i.data_index,t.language=i.language,t.theme=i.theme}},cleanLocalStorage(){localStorage.removeItem("configCache")},toggleTheme(t,e){"light"==t.theme?t.theme="dark":t.theme="light",e&&console.log(t.theme),document.querySelector('meta[name="theme-color"]').setAttribute("content","light"===t.theme?"rgba(245, 245, 245, 1)":"rgba(36, 36, 36, 1)"),this.commit("saveLocalStorage")},toggleEditor(t,e){t.editor.show=e}},actions:{},getters:{local:t=>e=>{let i=t.i18n[e];return i?i[t.language]:e},cur_db:t=>t.data_index<0?null:t.dbList[t.data_index]?t.dbList[t.data_index]:null},modules:{}}),vt=i("2457"),bt=i.n(vt),wt=i("bf3b"),yt=i.n(wt);i("90e6"),i("7520"),i("2858"),i("5298");class kt{constructor(t,e=null){this.graphAPI=t,e&&(this.progressUpdater=e),this.init=!1,this.root=void 0}guid(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()}async initDB(t){let e;this.key=t,this.path=t,this.path.indexOf("/")<0&&(this.path=this.path.replace(/\\/g,"/")),"/"===this.path[0]&&(this.path=this.path.slice(1));try{e=await this.graphAPI.OneDrive.Drive().path(this.path).getAsync(),null!==e.remoteItem?this.root=this.graphAPI.OneDrive.Drive(e.remoteItem.parentReference.driveId).item(e.remoteItem.id):this.root=this.graphAPI.OneDrive.Drive().item(e.id),e=await this.root.clone().path("data_structure.json").getAsync()}catch{try{let t=new File([],"~$data_structure.json",{type:"application/json"});await this.root.clone().path("~$data_structure.json").uploadAsync({file:t,conflict:Z["ConflictBehavior"].Fail});let i=Object.assign({},H["b"]);i.id=this.guid(),i.name="OneDrive",i.createDate=(new Date).toISOString();let s=new File([JSON.stringify(i)],"data_structure.json",{type:"application/json"});await this.root.clone().path("data_structure.json").uploadAsync({file:s,conflict:Z["ConflictBehavior"].Replace}),await this.root.clone().path("~$data_structure.json").delAsync(),e=await this.root.clone().path("data_structure.json").getAsync()}catch(i){return void this.updateProgress(0)}}if(void 0!==e){if(this.updateProgress(80),void 0!==this.root){let t=await this.root.clone().item(e.id).path().downloadAsync(Z["DownloadType"].Blob),i=await this.readAsText(t.content);this.updateProgress(100),i=JSON.parse(i),this.ds=i,this.init=!0,this.updateProgress(101)}}else this.updateProgress(0)}readAsText(t){let e=new FileReader;return e.readAsText(t,"utf-8"),new Promise(t=>{e.onload=e=>{t(e.target.result)}})}async getFileInfo(t){t=t.replace(this.path,""),"/"===t[0]&&(t=t.slice(1));let e=await this.root.clone().path(t).getAsync();return e}async readFile(t){t=t.replace(this.path,""),"/"===t[0]&&(t=t.slice(1));let e=await this.root.clone().path(t).downloadAsync(Z["DownloadType"].Blob);return await this.readAsText(e.content)}updateProgress(t){this.progressUpdater&&this.progressUpdater(t)}}var Ct={load_ds_file:_t};async function _t(t,e=[],i=null){let s=[];if(0==e.length)return{status:404,msg:"data_path is empty.",dbXList:s};for(let a of e){let e=null;e=new kt(t,i),await e.initDB(a),s.push({status:200,msg:"success.",db:e})}return{status:200,msg:"success.",dbXList:s}}var St=i("8aad"),xt=i.n(St),It=i("3435");s["default"].use(It["a"],xt.a),s["default"].use(bt.a),s["default"].use(yt.a),s["default"].config.productionTip=!1,s["default"].prototype.$load_ds_file=Ct.load_ds_file,new s["default"]({router:gt,store:ft,render:t=>t(rt),beforeCreate(){s["default"].prototype.$Go=t=>{this.$router.push(t)},s["default"].prototype.$Back=()=>{this.$router.back()},s["default"].prototype.$Jump=t=>{window.open(t)},s["default"].prototype.$Guid=()=>{let t=this.$SUtility.Guid();return t=t.split("-")[0],t}}}).$mount("#app")},"62bb":function(t,e,i){},"6fad":function(t,e,i){"use strict";i("a447")},7791:function(t,e,i){},"78fb":function(t,e,i){"use strict";i("8244")},"820f":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"zoom-in-top"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.thisValue,expression:"thisValue"}],staticClass:"ikfb-rightMenu",class:[{dark:"dark"===t.theme}],style:{left:t.posX+"px",top:t.posY+"px",width:t.rightMenuWidth+"px"}},[t._t("default",(function(){return[e("div",[e("span",[e("p",[t._v("Selected")])])])]}))],2)])},a=[],n={name:"rightMenu",props:{value:{default:!1},posX:{default:0},posY:{default:0},rightMenuWidth:{default:200},theme:{default:"light"}},data(){return{thisValue:this.value,rightMenuHeight:0}},watch:{value(t){this.thisValue=t},thisValue(t){this.$emit("input",t),0==this.rightMenuHeight&&(this.rightMenuHeight=this.$el.clientHeight,this.$emit("update-height",this.rightMenuHeight))}},mounted(){this.rightMenuClearInit()},methods:{rightMenuClearInit(){window.addEventListener("click",t=>{let e=t.target;e&&e!==this.$el&&(this.thisValue=!1)})}}},o=n,r=(i("98c1"),i("8e3e")),l=Object(r["a"])(o,s,a,!1,null,null,null);e["a"]=l.exports},8244:function(t,e,i){},"8c7b":function(t,e,i){},"98c1":function(t,e,i){"use strict";i("9d79")},"9b19":function(t,e,i){t.exports=i.p+"img/logo.333445ad.svg"},"9d79":function(t,e,i){},a447:function(t,e,i){},bb93:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"g",(function(){return n})),i.d(e,"d",(function(){return o})),i.d(e,"f",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"a",(function(){return c}));const s={id:null,name:null,groups:[],partitions:[],items:[],templates:[],path:null,createDate:null},a={id:null,name:null,emoji:null,groups:[],partitions:[],createDate:null},n={id:null,name:null,emoji:null,items:[],createDate:null},o={id:null,name:null,emoji:null,pdf:null,metadata:null,pages:[],labels:[],createDate:null,updateDate:null},r={id:null,name:null,emoji:null,createDate:null,updateDate:null},l={publisher:null,DOI:null,year:null,createDate:null,source:null,title:null,url:null,containerTitle:null,abstract:null,ISSN:null,language:null,chapter:null,pages:null,school:null,note:null,authors:[]},c={first:null,last:null,sequence:null}},cc52:function(t,e,i){"use strict";i("cd94")},cd94:function(t,e,i){},d1b2:function(t,e,i){"use strict";i("0e3c")},dee9:function(t,e,i){"use strict";i("62bb")},e0b7:function(t,e,i){"use strict";i("161b")},e1ea:function(t,e,i){"use strict";i("8c7b")},fa53:function(t,e,i){}});
//# sourceMappingURL=app.21c37b51.js.map