{"version":3,"sources":["webpack:///./src/views/templates/index.vue?2c6d","webpack:///./src/views/templates/index.vue","webpack:///./src/components/templates/addTemplate.vue","webpack:///src/components/templates/addTemplate.vue","webpack:///./src/components/templates/addTemplate.vue?36d4","webpack:///./src/components/templates/addTemplate.vue?ca74","webpack:///./src/components/templates/renameTemplate.vue","webpack:///src/components/templates/renameTemplate.vue","webpack:///./src/components/templates/renameTemplate.vue?21ed","webpack:///./src/components/templates/renameTemplate.vue?399e","webpack:///src/views/templates/index.vue","webpack:///./src/views/templates/index.vue?99d6","webpack:///./src/views/templates/index.vue?bb90"],"names":["render","_vm","this","_c","_self","staticClass","class","dark","theme","_v","_s","local","staticStyle","attrs","model","value","currentSearch","callback","$$v","expression","cmd","templates","on","$event","currentItem","currentChoosen","openEditor","scopedSlots","_u","key","fn","show","rename","deleteTemplate","proxy","add","$set","staticRenderFns","type","indexOf","_k","keyCode","apply","arguments","name","cur_db","thisShow","components","floatWindowBase","props","default","data","watch","computed","root","data_index","data_path","v","methods","reviseDS","_page","$index","file","conflict","component","addTemplate","renameTemplate","templateGrid","icon","iconColor","disabled","func","head","content","width","sortName","lock","$route","mounted","reviseEditor","toggleEditor","status","title","confirmTitle","cancelTitle","confirm","it","cancel","deleteTemplates","JSON","item","target"],"mappings":"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","file":"js/chunk-c8d8d83e.4b80474d.js","sourcesContent":["export * from \"-!../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.pnpm/sass-loader@8.0.2_sass@1.54.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=71e06b92&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ikfb-templates-container\",class:[{ dark: _vm.theme === 'dark' }]},[_c('div',{staticClass:\"s-row\"},[_c('p',{staticClass:\"s-title\"},[_vm._v(_vm._s(_vm.local('Templates')))])]),_c('div',{staticClass:\"m-templates-block\"},[_c('div',{staticClass:\"row between\"},[_c('fv-text-box',{staticStyle:{\"box-shadow\":\"0px 3px 8px rgba(0, 0, 0, 0.1)\"},attrs:{\"placeholder\":_vm.local('Filtering from current content'),\"theme\":_vm.theme,\"background\":_vm.theme === 'dark' ? 'rgba(75, 75, 75, 1)' : 'rgba(245, 245, 245, 1)',\"icon\":\"Filter\",\"borderWidth\":\"2\",\"revealBorder\":true},model:{value:(_vm.currentSearch),callback:function ($$v) {_vm.currentSearch=$$v},expression:\"currentSearch\"}})],1),_c('div',{staticClass:\"row command-bar\"},[_c('fv-command-bar',{staticStyle:{\"flex\":\"1\"},attrs:{\"options\":_vm.cmd,\"theme\":_vm.theme,\"background\":_vm.theme === 'dark' ? 'transparent' : 'rgba(245, 245, 245, 1)'}})],1),_c('div',{staticClass:\"row main-table\"},[_c('template-grid',{attrs:{\"value\":_vm.templates,\"filter\":_vm.currentSearch},on:{\"rightclick\":function($event){_vm.currentItem = $event},\"choose-items\":function($event){_vm.currentChoosen = $event},\"item-click\":function($event){return _vm.openEditor($event)}},scopedSlots:_vm._u([{key:\"menu\",fn:function(){return [_c('div',[_c('span',{on:{\"click\":function($event){_vm.show.rename = true}}},[_c('i',{staticClass:\"ms-Icon ms-Icon--Rename\",staticStyle:{\"color\":\"rgba(0, 153, 204, 1)\"}}),_c('p',[_vm._v(_vm._s(_vm.local(\"Rename Template\")))])]),_c('span',{on:{\"click\":_vm.deleteTemplate}},[_c('i',{staticClass:\"ms-Icon ms-Icon--Delete\",staticStyle:{\"color\":\"rgba(173, 38, 45, 1)\"}}),_c('p',[_vm._v(_vm._s(_vm.local(\"Delete Template\")))])])])]},proxy:true}])})],1)]),_c('add-template',{attrs:{\"show\":_vm.show.add},on:{\"update:show\":function($event){return _vm.$set(_vm.show, \"add\", $event)}}}),_c('rename-template',{attrs:{\"value\":_vm.currentItem,\"show\":_vm.show.rename},on:{\"update:show\":function($event){return _vm.$set(_vm.show, \"rename\", $event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('float-window-base',{attrs:{\"title\":_vm.local('Add Template'),\"theme\":_vm.theme},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"w-p-block\"},[_c('p',{staticClass:\"w-title\"},[_vm._v(_vm._s(_vm.local('Template Name')))]),_c('fv-text-box',{attrs:{\"placeholder\":_vm.local('Input template name...'),\"theme\":_vm.theme},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.add.apply(null, arguments)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]},proxy:true},{key:\"control\",fn:function(){return [_c('fv-button',{attrs:{\"theme\":\"dark\",\"background\":\"rgba(0, 153, 204, 1)\",\"disabled\":_vm.name === '' || !_vm.cur_db},on:{\"click\":_vm.add}},[_vm._v(\" \"+_vm._s(_vm.local('Confirm')))]),_c('fv-button',{attrs:{\"theme\":_vm.theme},on:{\"click\":function($event){_vm.thisShow = false}}},[_vm._v(_vm._s(_vm.local('Cancel')))])]},proxy:true}]),model:{value:(_vm.thisShow),callback:function ($$v) {_vm.thisShow=$$v},expression:\"thisShow\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <float-window-base v-model=\"thisShow\" :title=\"local('Add Template')\" :theme=\"theme\">\n        <template v-slot:content>\n            <div class=\"w-p-block\">\n                <p class=\"w-title\">{{ local('Template Name') }}</p>\n                <fv-text-box v-model=\"name\" :placeholder=\"local('Input template name...')\" :theme=\"theme\"\n                    @keyup.enter=\"add\"></fv-text-box>\n            </div>\n        </template>\n        <template v-slot:control>\n            <fv-button theme=\"dark\" background=\"rgba(0, 153, 204, 1)\" :disabled=\"name === '' || !cur_db\" @click=\"add\">\n                {{ local('Confirm') }}</fv-button>\n            <fv-button :theme=\"theme\" @click=\"thisShow = false\">{{ local('Cancel') }}</fv-button>\n        </template>\n    </float-window-base>\n</template>\n\n<script>\nimport floatWindowBase from \"../window/floatWindowBase.vue\";\nimport { page } from \"@/js/data_sample.js\";\nimport { mapMutations, mapState, mapGetters } from \"vuex\";\nimport { ConflictBehavior } from \"msgraphapi\";\n// const { ipcRenderer: ipc } = require(\"electron\");\n// const path = require(\"path\");\n\nexport default {\n    components: {\n        floatWindowBase,\n    },\n    props: {\n        show: {\n            default: false\n        }\n    },\n    data() {\n        return {\n            thisShow: this.show,\n            name: \"\"\n        };\n    },\n    watch: {\n        show(val) {\n            this.thisShow = val;\n        },\n        thisShow(val) {\n            this.$emit(\"update:show\", val);\n            this.name = \"\";\n        }\n    },\n    computed: {\n        ...mapState({\n            root: (state) => state.root,\n            data_index: (state) => state.data_index,\n            data_path: (state) => state.data_path,\n            templates: state => state.data_structure.templates,\n            theme: (state) => state.theme,\n        }),\n        ...mapGetters([\"local\", 'cur_db']),\n        v() {\n            return this;\n        },\n    },\n    methods: {\n        ...mapMutations({\n            reviseDS: \"reviseDS\",\n        }),\n        async add() {\n            if (!this.cur_db || this.name === '')\n                return;\n            let _page = JSON.parse(JSON.stringify(page));\n            _page.id = this.$Guid();\n            _page.name = this.name;\n            _page.emoji = 'ðŸ“‘';\n            _page.createDate = this.$SDate.DateToString(new Date());\n            this.templates.push(_page);\n            this.reviseDS({\n                $index: this.data_index,\n                templates: this.templates\n            });\n            await this.root.clone().path(`root/templates/${_page.id}.json`).uploadAsync({\n                file: new File([], `${_page.id}.json`, {\n                    type: \"application/json\"\n                }),\n                conflict: ConflictBehavior.Fail\n            })\n            this.thisShow = false;\n        }\n    },\n};\n</script>\n\n<style lang=\"scss\">\n</style>","import mod from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_7uc2ny5pnz7ums2wq2q562bf6y/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_7uc2ny5pnz7ums2wq2q562bf6y/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addTemplate.vue?vue&type=template&id=173c8d22&\"\nimport script from \"./addTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./addTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('float-window-base',{attrs:{\"title\":_vm.local('Rename Template'),\"theme\":_vm.theme},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"w-p-block\"},[_c('p',{staticClass:\"w-title\"},[_vm._v(_vm._s(_vm.local('Template Name')))]),_c('fv-text-box',{attrs:{\"placeholder\":_vm.local('Input template name...'),\"theme\":_vm.theme},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.rename.apply(null, arguments)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]},proxy:true},{key:\"control\",fn:function(){return [_c('fv-button',{attrs:{\"theme\":\"dark\",\"background\":\"rgba(0, 153, 204, 1)\",\"disabled\":!_vm.value || _vm.name === '' || !_vm.cur_db},on:{\"click\":_vm.rename}},[_vm._v(_vm._s(_vm.local('Confirm')))]),_c('fv-button',{attrs:{\"theme\":_vm.theme},on:{\"click\":function($event){_vm.thisShow = false}}},[_vm._v(_vm._s(_vm.local('Cancel')))])]},proxy:true}]),model:{value:(_vm.thisShow),callback:function ($$v) {_vm.thisShow=$$v},expression:\"thisShow\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <float-window-base v-model=\"thisShow\" :title=\"local('Rename Template')\" :theme=\"theme\">\n        <template v-slot:content>\n            <div class=\"w-p-block\">\n                <p class=\"w-title\">{{local('Template Name')}}</p>\n                <fv-text-box v-model=\"name\" :placeholder=\"local('Input template name...')\" :theme=\"theme\" @keyup.enter=\"rename\"></fv-text-box>\n            </div>\n        </template>\n        <template v-slot:control>\n            <fv-button theme=\"dark\" background=\"rgba(0, 153, 204, 1)\" :disabled=\"!value || name === '' || !cur_db\" @click=\"rename\">{{local('Confirm')}}</fv-button>\n            <fv-button :theme=\"theme\" @click=\"thisShow = false\">{{local('Cancel')}}</fv-button>\n        </template>\n    </float-window-base>\n</template>\n\n<script>\nimport floatWindowBase from \"../window/floatWindowBase.vue\";\nimport { mapMutations, mapState, mapGetters } from \"vuex\";\n\nexport default {\n    components: {\n        floatWindowBase,\n    },\n    props: {\n        value: {\n            default: null\n        },\n        show: {\n            default: false\n        }\n    },\n    data() {\n        return {\n            thisShow: this.show,\n            name: \"\"\n        };\n    },\n    watch: {\n        show (val) {\n            this.thisShow = val;\n        },\n        thisShow (val) {\n            this.$emit(\"update:show\", val);\n            if(this.value.name)\n                this.name = this.value.name;\n            else\n                this.name = \"\";\n        }\n    },\n    computed: {\n        ...mapState({\n            data_index: (state) => state.data_index,            \n            data_path: (state) => state.data_path,\n            templates: state => state.data_structure.templates,\n            theme: (state) => state.theme,\n        }),\n        ...mapGetters([\"local\", 'cur_db']),\n        v() {\n            return this;\n        },\n    },\n    methods: {\n        ...mapMutations({\n            reviseDS: \"reviseDS\",\n        }),\n        async rename () {\n            if(!this.cur_db || !this.value || this.name === '')\n                return;\n            let _page = this.templates.find(it => it.id === this.value.id);\n            _page.name = this.name;\n            this.value.name = this.name;\n            this.reviseDS({\n                $index: this.data_index,\n                templates: this.templates\n            });\n            this.thisShow = false;\n        }\n    },\n};\n</script>\n\n<style lang=\"scss\">\n</style>","import mod from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_7uc2ny5pnz7ums2wq2q562bf6y/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!./renameTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_7uc2ny5pnz7ums2wq2q562bf6y/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!./renameTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./renameTemplate.vue?vue&type=template&id=18c96be6&\"\nimport script from \"./renameTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./renameTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"ikfb-templates-container\" :class=\"[{ dark: theme === 'dark' }]\">\n        <div class=\"s-row\">\n            <p class=\"s-title\">{{ local('Templates') }}</p>\n        </div>\n        <div class=\"m-templates-block\">\n            <div class=\"row between\">\n                <fv-text-box v-model=\"currentSearch\" :placeholder=\"local('Filtering from current content')\"\n                    :theme=\"theme\" :background=\"theme === 'dark' ? 'rgba(75, 75, 75, 1)' : 'rgba(245, 245, 245, 1)'\"\n                    icon=\"Filter\" borderWidth=\"2\" :revealBorder=\"true\"\n                    style=\"box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.1)\"></fv-text-box>\n            </div>\n            <div class=\"row command-bar\">\n                <fv-command-bar :options=\"cmd\" :theme=\"theme\"\n                    :background=\"theme === 'dark' ? 'transparent' : 'rgba(245, 245, 245, 1)'\" style=\"flex: 1\">\n                </fv-command-bar>\n            </div>\n            <div class=\"row main-table\">\n                <template-grid :value=\"templates\" :filter=\"currentSearch\" @rightclick=\"currentItem = $event\"\n                    @choose-items=\"currentChoosen = $event\" @item-click=\"openEditor($event)\">\n                    <template v-slot:menu>\n                        <div>\n                            <span @click=\"show.rename = true\">\n                                <i class=\"ms-Icon ms-Icon--Rename\" style=\"color: rgba(0, 153, 204, 1);\"></i>\n                                <p>{{ local(\"Rename Template\") }}</p>\n                            </span>\n                            <span @click=\"deleteTemplate\">\n                                <i class=\"ms-Icon ms-Icon--Delete\" style=\"color: rgba(173, 38, 45, 1);\"></i>\n                                <p>{{ local(\"Delete Template\") }}</p>\n                            </span>\n                        </div>\n                    </template>\n                </template-grid>\n            </div>\n        </div>\n        <add-template :show.sync=\"show.add\"></add-template>\n        <rename-template :value=\"currentItem\" :show.sync=\"show.rename\"></rename-template>\n    </div>\n</template>\n\n<script>\nimport addTemplate from \"@/components/templates/addTemplate.vue\";\nimport renameTemplate from \"@/components/templates/renameTemplate.vue\";\nimport templateGrid from \"@/components/templates/templateGrid.vue\";\nimport { ConflictBehavior } from \"msgraphapi\";\nimport { mapMutations, mapState, mapGetters } from \"vuex\";\n\n// const path = require(\"path\");\n\nexport default {\n    components: {\n        addTemplate,\n        renameTemplate,\n        templateGrid,\n    },\n    data() {\n        return {\n            cmd: [\n                {\n                    name: () => this.local(\"Add\"),\n                    icon: \"Add\",\n                    iconColor: \"rgba(0, 90, 158, 1)\",\n                    disabled: () => this.cur_db === null || !this.lock,\n                    func: () => {\n                        this.show.add = true;\n                    },\n                },\n                {\n                    name: () => this.local(\"Delete\"),\n                    icon: \"Delete\",\n                    iconColor: \"rgba(173, 38, 45, 1)\",\n                    disabled: () =>\n                        this.currentChoosen.length === 0 || !this.lock,\n                    func: this.deleteTemplates,\n                },\n            ],\n            head: [\n                { content: \"No.\", width: 120 },\n                { content: \"Icon\", sortName: \"emoji\", width: 80 },\n                { content: \"Name\", sortName: \"name\", width: 300 },\n                { content: \"Create Date\", sortName: \"createDate\", width: 120 },\n            ],\n            currentItem: {},\n            currentChoosen: [],\n            currentSearch: \"\",\n            show: {\n                add: false,\n                rename: false,\n            },\n            lock: true,\n        };\n    },\n    watch: {\n        $route() {\n            this.templatesEnsureFolder();\n        },\n    },\n    computed: {\n        ...mapState({\n            root: (state) => state.root,\n            data_path: (state) => state.data_path,\n            data_index: (state) => state.data_index,\n            templates: (state) => state.data_structure.templates,\n            theme: (state) => state.theme,\n        }),\n        ...mapGetters([\"local\", \"cur_db\"]),\n        v() {\n            return this;\n        },\n    },\n    mounted() {\n        this.templatesEnsureFolder();\n    },\n    methods: {\n        ...mapMutations({\n            reviseDS: \"reviseDS\",\n            reviseEditor: \"reviseEditor\",\n            toggleEditor: \"toggleEditor\",\n        }),\n        async templatesEnsureFolder() {\n            if (!this.cur_db || this.data_index == -1) return;\n            this.lock = false;\n            try {\n                await this.root.clone(\"root\").createListAsync({\n                    name: \"templates\",\n                    conflict: ConflictBehavior.Fail\n                })\n            } catch {\n\n            }\n            this.lock = true;\n        },\n        deleteTemplate() {\n            if (!this.currentItem.id || !this.lock) return;\n            this.$infoBox(this.local(`Are you sure to delete this template?`), {\n                status: \"error\",\n                title: this.local(\"Delete Template\"),\n                confirmTitle: this.local(\"Confirm\"),\n                cancelTitle: this.local(\"Cancel\"),\n                theme: this.theme,\n                confirm: async () => {\n                    this.lock = false;\n                    let index = this.templates.indexOf(\n                        this.templates.find(\n                            (it) => it.id === this.currentItem.id\n                        )\n                    );\n                    this.templates.splice(index, 1);\n                    this.reviseDS({\n                        $index: this.data_index,\n                        templates: this.templates,\n                    });\n                    await this.root.path(`root/templates/${this.currentItem.id}.json`).delAsync()\n                    this.lock = true;\n                },\n                cancel: () => { },\n            });\n        },\n        deleteTemplates() {\n            if (!this.currentChoosen || !this.lock) return;\n            this.$infoBox(\n                this.local(`Are you sure to delete these templates?`),\n                {\n                    status: \"error\",\n                    title: this.local(\"Delete Templates\"),\n                    confirmTitle: this.local(\"Confirm\"),\n                    cancelTitle: this.local(\"Cancel\"),\n                    theme: this.theme,\n                    confirm: async () => {\n                        this.lock = false;\n                        let copy = JSON.parse(\n                            JSON.stringify(this.currentChoosen)\n                        );\n                        for (let el of copy) {\n                            let index = this.templates.indexOf(\n                                this.templates.find((it) => it.id === el.id)\n                            );\n                            this.templates.splice(index, 1);\n                            this.reviseDS({\n                                $index: this.data_index,\n                                templates: this.templates,\n                            });\n                            await this.root.clone().path(`root/templates/${el.id}.json`).delAsync()\n                            this.lock = true;\n                        }\n                    },\n                    cancel: () => { },\n                }\n            );\n        },\n        openEditor(template) {\n            this.reviseEditor({\n                type: \"template\",\n                item: {},\n                target: template,\n            });\n            this.toggleEditor(true);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n.ikfb-templates-container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background: rgba(245, 245, 245, 1);\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    transition: all 0.3s;\n\n    &.dark {\n        background: rgba(36, 36, 36, 1);\n\n        .s-title {\n            color: whitesmoke;\n        }\n\n        .m-templates-block {\n            .row {\n                &.main-table {\n                    background: black;\n                }\n            }\n        }\n    }\n\n    .s-row {\n        position: relative;\n        margin: 25px 0px;\n        padding: 0px 15px;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n    }\n\n    .s-title {\n        font-size: 24px;\n        user-select: none;\n        cursor: default;\n    }\n\n    .m-templates-block {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        box-sizing: border-box;\n        overflow: hidden;\n\n        display: flex;\n        flex-direction: column;\n\n        .row {\n            position: relative;\n            width: 100%;\n            height: auto;\n            padding: 12px;\n            box-sizing: border-box;\n\n            &.between {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            &.command-bar {\n                padding: 0px 12px;\n                display: flex;\n                align-items: center;\n            }\n\n            &.main-table {\n                width: calc(100% - 24px);\n                flex: 1;\n                margin: 8px 12px;\n                padding: 0px;\n                background: white;\n                border-radius: 5px;\n                box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.1);\n                overflow: hidden;\n\n                p.highlight {\n                    text-align: center;\n                    cursor: pointer;\n\n                    &:hover {\n                        color: rgba(0, 120, 212, 1);\n                        text-decoration: underline;\n                    }\n                }\n            }\n\n            &.bottom-control {\n                width: calc(100% - 24px);\n                height: 45px;\n                margin: 8px 12px;\n                padding: 0px;\n                border-radius: 5px;\n                overflow: hidden;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .head-info {\n                position: absolute;\n                left: 0px;\n                top: 100%;\n                width: 100%;\n                height: auto;\n                background: whitesmoke;\n                display: flex;\n                flex-direction: column;\n                box-shadow: 0px 8px 8px rgba(0, 0, 0, 0.1);\n                z-index: 20;\n\n                .item {\n                    width: 100%;\n                    min-height: 35px;\n                    height: 35px;\n                    padding: 0px 15px;\n                    font-size: 12px;\n                    font-weight: 400;\n                    box-sizing: border-box;\n                    grid-template-columns: 80px 80px 80px 1fr;\n                    display: grid;\n                    align-items: center;\n                }\n            }\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_7uc2ny5pnz7ums2wq2q562bf6y/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.5_7uc2ny5pnz7ums2wq2q562bf6y/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=71e06b92&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=71e06b92&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}