(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c5117a5"],{"04d1":function(t,e,a){var i=a("342f"),n=i.match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},"0ffc":function(t,e,a){},"1e8a":function(t,e,a){"use strict";a("8471")},"25f0":function(t,e,a){"use strict";var i=a("e330"),n=a("5e77").PROPER,r=a("6eeb"),o=a("825a"),s=a("3a9b"),c=a("577e"),l=a("d039"),u=a("ad6d"),h="toString",d=RegExp.prototype,m=d[h],f=i(u),p=l((function(){return"/a/b"!=m.call({source:"a",flags:"b"})})),b=n&&m.name!=h;(p||b)&&r(RegExp.prototype,h,(function(){var t=o(this),e=c(t.source),a=t.flags,i=c(void 0===a&&s(d,t)&&!("flags"in d)?f(t):a);return"/"+e+"/"+i}),{unsafe:!0})},"2b88":function(t,e,a){},"3f8d":function(t,e,a){},4213:function(t,e,a){},"4e82":function(t,e,a){"use strict";var i=a("23e7"),n=a("e330"),r=a("59ed"),o=a("7b0b"),s=a("07fa"),c=a("577e"),l=a("d039"),u=a("addb"),h=a("a640"),d=a("04d1"),m=a("d998"),f=a("2d00"),p=a("512c"),b=[],v=n(b.sort),g=n(b.push),x=l((function(){b.sort(void 0)})),k=l((function(){b.sort(null)})),y=h("sort"),w=!l((function(){if(f)return f<70;if(!(d&&d>3)){if(m)return!0;if(p)return p<603;var t,e,a,i,n="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(i=0;i<47;i++)b.push({k:e+i,v:a})}for(b.sort((function(t,e){return e.v-t.v})),i=0;i<b.length;i++)e=b[i].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}})),_=x||!k||!y||!w,C=function(t){return function(e,a){return void 0===a?-1:void 0===e?1:void 0!==t?+t(e,a)||0:c(e)>c(a)?1:-1}};i({target:"Array",proto:!0,forced:_},{sort:function(t){void 0!==t&&r(t);var e=o(this);if(w)return void 0===t?v(e):v(e,t);var a,i,n=[],c=s(e);for(i=0;i<c;i++)i in e&&g(n,e[i]);u(n,C(t)),a=n.length,i=0;while(i<a)e[i]=n[i++];while(i<c)delete e[i++];return e}})},"512c":function(t,e,a){var i=a("342f"),n=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},"66b3":function(t,e,a){t.exports=a.p+"img/empty_emo.4154b04d.svg"},7252:function(t,e,a){"use strict";a("0ffc")},"7abe":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ikfb-home-container",class:[{dark:"dark"===t.theme}]},[a("div",{staticClass:"s-row"},[a("p",{staticClass:"s-title"},[t._v(t._s(!1===t.pid?t.local("All"):t.pname))])]),a("div",{staticClass:"m-home-block"},[a("div",{staticClass:"row between"},[a("fv-text-box",{staticStyle:{"box-shadow":"0px 3px 8px rgba(0, 0, 0, 0.1)"},attrs:{placeholder:t.local("Filtering from current content"),theme:t.theme,background:"dark"===t.theme?"rgba(75, 75, 75, 1)":"rgba(245, 245, 245, 1)",icon:"Filter",borderWidth:"2",revealBorder:!0},model:{value:t.currentSearch,callback:function(e){t.currentSearch=e},expression:"currentSearch"}}),a("div",{staticClass:"sort-block"},[a("fv-combobox",{staticStyle:{width:"120px"},attrs:{options:t.sortOptions,placeholder:t.local("Sort by"),inputBackground:"dark"===t.theme?"rgba(75, 75, 75, 1)":"rgba(245, 245, 245, 1)",borderRadius:3,theme:t.theme},model:{value:t.sortKey,callback:function(e){t.sortKey=e},expression:"sortKey"}}),a("fv-button",{staticStyle:{width:"35px",height:"35px","margin-left":"5px"},attrs:{theme:t.theme,disabled:void 0==t.sortKey.key,title:1==t.sortDesc?t.local("Switch to Descending"):t.local("Switch to Ascending")},on:{click:function(e){t.sortDesc=-t.sortDesc}}},[a("i",{staticClass:"ms-Icon",class:["ms-Icon--"+(1==t.sortDesc?"Ascending":"Descending")],staticStyle:{"font-size":"18px"}})])],1)],1),a("div",{staticClass:"row command-bar"},[a("fv-command-bar",{staticStyle:{flex:"1"},attrs:{options:t.cmd,theme:t.theme,background:"dark"===t.theme?"transparent":"rgba(245, 245, 245, 1)"}})],1),a("div",{staticClass:"row main-table"},[a("main-list",{attrs:{value:t.filterItems,edit:t.editable,sortKey:t.sortKey.key,desc:t.sortDesc,theme:t.theme,filter:t.currentSearch},on:{"open-file":t.openFile,"label-click":function(e){t.currentItem=e,t.show.rename=!0},rightclick:function(e){t.currentItem=e},"choose-items":function(e){t.currentChoosen=e},"insert-emoji":function(e){return t.reviseItemEmoji(e.item,e.emoji)}},scopedSlots:t._u([{key:"row_expand",fn:function(e){return[a("div",{staticClass:"main-row-item-info"},[a("div",{staticClass:"item",staticStyle:{display:"flex"},on:{click:function(a){t.currentItem=e.item,t.show.rename=!0}}},[e.item.labels.length>0?a("fv-tag",{staticStyle:{width:"100%"},attrs:{value:e.item.labels,theme:t.theme}}):t._e(),e.item.labels.length<=0?a("i",{staticClass:"ms-Icon ms-Icon--Tag"}):t._e(),e.item.labels.length<=0?a("p",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.local("Add Labels")))]):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.pdf,expression:"x.item.pdf"}],staticClass:"item",on:{dblclick:function(a){return t.openFile(e.item.id+"/"+e.item.pdf+".pdf")}}},[a("i",{staticClass:"ms-Icon ms-Icon--PDF"}),a("p",{staticClass:"highlight",on:{click:function(a){return t.openFile(e.item.id+"/"+e.item.pdf+".pdf")}}},[t._v("PDF")]),a("p",{staticClass:"sec highlight",on:{click:function(a){return t.openFile(e.item.id+"/"+e.item.pdf+".pdf")}}},[t._v(t._s(e.item.pdf)+".pdf")]),a("p"),a("fv-button",{staticStyle:{width:"35px",height:"35px"},attrs:{background:"rgba(255, 180, 0, 1)",title:t.local("Open Folder")},on:{click:function(a){return t.openFile(""+e.item.id)}}},[a("i",{staticClass:"ms-Icon ms-Icon--FabricFolder"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.metadata,expression:"x.item.metadata"}],staticClass:"item"},[a("i",{staticClass:"ms-Icon ms-Icon--LinkedDatabase"}),a("p",{staticClass:"highlight",on:{click:function(a){return t.showMetadata(e.item)}}},[t._v("Metadata")]),a("p",{staticClass:"sec highlight",on:{click:function(a){return t.showMetadata(e.item)}}},[t._v(t._s(e.item.id)+".metadata")]),a("p"),a("fv-button",{staticStyle:{width:"35px",height:"35px"},attrs:{background:"rgba(255, 180, 0, 1)",title:t.local("Open Folder")},on:{click:function(a){return t.openFile(""+e.item.id)}}},[a("i",{staticClass:"ms-Icon ms-Icon--FabricFolder"})])],1),t._l(e.item.pages,(function(i,n){return a("div",{key:n,staticClass:"item"},[a("emoji-callout",{staticStyle:{width:"25px"},attrs:{value:i.emoji,theme:t.theme},on:{"insert-emoji":function(a){return t.revisePageEmoji(e.item,i,a)}}}),a("p",{staticClass:"highlight",on:{click:function(a){return t.openEditor(e.item,i)}}},[t._v(t._s(i.name))]),a("p",{staticClass:"sec"},[t._v(t._s(i.id))]),a("p",{staticClass:"sec"},[t._v(t._s(i.createDate))]),a("fv-button",{staticStyle:{width:"35px",height:"35px"},attrs:{theme:"dark",background:"rgba(0, 120, 212, 1)",title:t.local("Rename")},on:{click:function(a){return t.showRenameItemPage(e.item,i)}}},[a("i",{staticClass:"ms-Icon ms-Icon--Rename"})]),a("fv-button",{staticStyle:{width:"35px",height:"35px"},attrs:{theme:"dark",background:"rgba(220, 62, 72, 1)",title:t.local("Delete")},on:{click:function(a){return t.deleteItemPage(e.item.id,i.id)}}},[a("i",{staticClass:"ms-Icon ms-Icon--Delete"})])],1)})),a("div",{staticClass:"item",staticStyle:{display:"flex"},on:{click:function(a){t.currentItem=e.item,t.show.addItemPage=!0}}},[a("i",{staticClass:"ms-Icon ms-Icon--Add"}),a("p",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.local("Add Page")))])])],2)]}},{key:"menu",fn:function(){return[a("div",[a("span",{on:{click:function(e){t.show.addItemPage=!0}}},[a("i",{staticClass:"ms-Icon ms-Icon--PageAdd",staticStyle:{color:"rgba(38, 188, 140, 1)"}}),a("p",[t._v(t._s(t.local("Add Page")))])]),a("span",{on:{click:t.reviseItemPdf}},[a("i",{staticClass:"ms-Icon ms-Icon--PDF",staticStyle:{color:"rgba(220, 62, 72, 1)"}}),a("p",[t._v(t._s(t.local("Revise PDF")))])]),a("span",{on:{click:function(e){t.show.metadata=!0}}},[a("i",{staticClass:"ms-Icon ms-Icon--LinkedDatabase",staticStyle:{color:"rgba(229, 173, 70, 1)"}}),a("p",[t._v(t._s(t.local("Revise Metadata")))])]),a("span",{on:{click:function(e){return t.openFile(""+t.currentItem.id)}}},[a("i",{staticClass:"ms-Icon ms-Icon--FabricFolder",staticStyle:{color:"rgba(229, 173, 70, 1)"}}),a("p",[t._v(t._s(t.local("Open Folder")))])]),a("hr"),a("span",{on:{click:function(e){t.show.folder=!0}}},[a("i",{staticClass:"ms-Icon ms-Icon--FabricMovetoFolder",staticStyle:{color:"rgba(0, 90, 158, 1)"}}),a("p",[t._v(t._s(t.local("Copy to Partitions")))])]),a("span",{on:{click:function(e){t.show.rename=!0}}},[a("i",{staticClass:"ms-Icon ms-Icon--Rename",staticStyle:{color:"rgba(0, 90, 158, 1)"}}),a("p",[t._v(t._s(t.local("Rename Item")))])]),a("span",{directives:[{name:"show",rawName:"v-show",value:!1!==t.pid,expression:"pid !== false"}],on:{click:t.deleteItemsFromPartition}},[a("i",{staticClass:"ms-Icon ms-Icon--RemoveFrom",staticStyle:{color:"rgba(220, 62, 72, 1)"}}),a("p",[t._v(t._s(t.local("Remove From Partition")))])]),a("span",{directives:[{name:"show",rawName:"v-show",value:!1===t.pid,expression:"pid === false"}],on:{click:t.deleteItem}},[a("i",{staticClass:"ms-Icon ms-Icon--Delete",staticStyle:{color:"rgba(220, 62, 72, 1)"}}),a("p",[t._v(t._s(t.local("Delete Item")))])])])]},proxy:!0}])}),0===t.filterItems.length?a("item-list-empty"):t._e()],1)]),a("add-item",{attrs:{show:t.show.add},on:{"update:show":function(e){return t.$set(t.show,"add",e)}}}),a("rename-item",{attrs:{value:t.currentItem,show:t.show.rename},on:{"update:show":function(e){return t.$set(t.show,"rename",e)}}}),a("add-item-page",{attrs:{show:t.show.addItemPage,item:t.currentItem},on:{"update:show":function(e){return t.$set(t.show,"addItemPage",e)}}}),a("rename-item-page",{attrs:{value:t.currentItemPage,show:t.show.renameItemPage,item:t.currentItem},on:{"update:show":function(e){return t.$set(t.show,"renameItemPage",e)}}}),a("metadata-panel",{attrs:{item:t.currentItem},model:{value:t.show.metadata,callback:function(e){t.$set(t.show,"metadata",e)},expression:"show.metadata"}}),a("folder-window",{on:{"choose-partitions":t.copyItemsToPartitions},model:{value:t.show.folder,callback:function(e){t.$set(t.show,"folder",e)},expression:"show.folder"}})],1)},n=[],r=a("1da1"),o=a("5530"),s=(a("96cf"),a("99af"),a("b0c0"),a("e9c4"),a("d3b7"),a("159b"),a("7db0"),a("a434"),a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("float-window-base",{attrs:{title:t.local("Add Item"),theme:t.theme},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticClass:"w-p-block"},[a("p",{staticClass:"w-title"},[t._v(t._s(t.local("Item Name")))]),a("fv-text-box",{staticStyle:{width:"100%",height:"60px","margin-top":"15px"},attrs:{placeholder:t.local("Input item name..."),theme:t.theme,"font-size":18,"font-weight":"bold",underline:"","focus-border-color":"rgba(123, 139, 209, 1)","is-box-shadow":!0},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"w-p-block"},[a("p",{staticClass:"w-title"},[t._v(t._s(t.local("Item Labels")))])]),a("div",{staticClass:"w-p-row"},t._l(t.colorList,(function(e,i){return a("fv-check-box",{key:i,attrs:{"border-color":e.color,background:e.color},on:{click:function(e){return t.chooseColor(i)}},model:{value:e.check,callback:function(a){t.$set(e,"check",a)},expression:"item.check"}})})),1),a("div",{staticClass:"w-p-block"},[a("fv-text-box",{attrs:{placeholder:t.local("New item label (Press Enter)"),icon:"Tag",theme:t.theme,"border-color":t.currentColor},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addLabel.apply(null,arguments)}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("div",{staticClass:"w-p-block",staticStyle:{"overflow-x":"auto"}},[a("fv-tag",{attrs:{theme:t.theme,isDel:!0},model:{value:t.labels,callback:function(e){t.labels=e},expression:"labels"}})],1)]},proxy:!0},{key:"control",fn:function(){return[a("fv-button",{attrs:{theme:"dark",background:"rgba(0, 153, 204, 1)",disabled:""===t.name||!t.cur_db},on:{click:t.add}},[t._v(t._s(t.local("Confirm")))]),a("fv-button",{attrs:{theme:t.theme},on:{click:function(e){t.thisShow=!1}}},[t._v(t._s(t.local("Cancel")))])]},proxy:!0}]),model:{value:t.thisShow,callback:function(e){t.thisShow=e},expression:"thisShow"}})}),c=[],l=a("b85c"),u=a("4c9f"),h=a("bb93"),d=a("2f62"),m={components:{floatWindowBase:u["a"]},props:{show:{default:!1}},data:function(){return{thisShow:this.show,name:"",label:"",labels:[],colorList:[{name:"purple",color:"#958DF1",check:!1},{name:"red",color:"#F98181",check:!1},{name:"orange",color:"#FBBC88",check:!1},{name:"yellow",color:"#FAF594",check:!1},{name:"blue",color:"#70CFF8",check:!1},{name:"teal",color:"#94FADB",check:!1},{name:"green",color:"#B9F18D",check:!1},{name:"red",color:"#ffa8a8",check:!1},{name:"orange",color:"#ffc078",check:!1},{name:"green",color:"#8ce99a",check:!1},{name:"blue",color:"#74c0fc",check:!1},{name:"purple",color:"#b197fc",check:!1}]}},watch:{show:function(t){this.thisShow=t},thisShow:function(t){this.$emit("update:show",t),this.name="",this.labels=[]}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_index:function(t){return t.data_index},data_path:function(t){return t.data_path},items:function(t){return t.data_structure.items},groups:function(t){return t.data_structure.groups},partitions:function(t){return t.data_structure.partitions},c:function(t){return t.pdfImporter.c},theme:function(t){return t.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this},currentColor:function(){var t,e=Object(l["a"])(this.colorList);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.check)return a.color}}catch(i){e.e(i)}finally{e.f()}return"rgba(25, 106, 167, 1)"}}),methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS",revisePdfImporter:"revisePdfImporter"})),{},{add:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cur_db&&""!==t.name){e.next=2;break}return e.abrupt("return");case 2:a=JSON.parse(JSON.stringify(h["d"])),a.id=t.$Guid(),a.name=t.name,a.emoji="ðŸ“¦",a.labels=t.labels,a.createDate=t.$SDate.DateToString(new Date),t.items.push(a),t.reviseDS({$index:t.data_index,items:t.items}),t.copyToPartition(a),t.revisePdfImporter({c:t.c+1}),t.thisShow=!1;case 13:case"end":return e.stop()}}),e)})))()},copyToPartition:function(t){var e=this.$route.params.id;if(void 0!==e){for(var a=[].concat(this.groups),i=[],n=0;n<a.length;n++)a[n].groups&&(a=a.concat(a[n].groups)),a[n].partitions&&(i=i.concat(a[n].partitions));i=i.concat(this.partitions);for(var r=0;r<i.length;r++)i[r].id===e&&i[r].items.push(t.id);this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions})}},addLabel:function(){""!==this.label&&(this.labels.push({text:this.label,background:this.currentColor}),this.label="")},chooseColor:function(t){var e=this;this.colorList.forEach((function(a,i){t!==i&&(a.check=!1,e.$set(e.colorList,i,a))}))}})},f=m,p=a("2877"),b=Object(p["a"])(f,s,c,!1,null,null,null),v=b.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("float-window-base",{attrs:{title:t.local("Rename Item"),theme:t.theme},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticClass:"w-p-block"},[a("p",{staticClass:"w-title"},[t._v(t._s(t.local("Item Name")))]),a("fv-text-box",{staticStyle:{width:"100%",height:"60px","margin-top":"15px"},attrs:{placeholder:t.local("Input item name..."),theme:t.theme,"font-size":18,"font-weight":"bold",underline:"","focus-border-color":"rgba(123, 139, 209, 1)","is-box-shadow":!0},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"w-p-block"},[a("p",{staticClass:"w-title"},[t._v(t._s(t.local("Item Labels")))])]),a("div",{staticClass:"w-p-row"},t._l(t.colorList,(function(e,i){return a("fv-check-box",{key:i,attrs:{"border-color":e.color,background:e.color},on:{click:function(e){return t.chooseColor(i)}},model:{value:e.check,callback:function(a){t.$set(e,"check",a)},expression:"item.check"}})})),1),a("div",{staticClass:"w-p-block"},[a("fv-text-box",{attrs:{placeholder:t.local("New item label (Press Enter)"),icon:"Tag",theme:t.theme,"border-color":t.currentColor},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addLabel.apply(null,arguments)}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("div",{staticClass:"w-p-block",staticStyle:{"overflow-x":"auto"}},[a("fv-tag",{attrs:{theme:t.theme,isDel:!0},model:{value:t.labels,callback:function(e){t.labels=e},expression:"labels"}})],1)]},proxy:!0},{key:"control",fn:function(){return[a("fv-button",{attrs:{theme:"dark",background:"rgba(0, 153, 204, 1)",disabled:!t.value||""===t.name||!t.cur_db},on:{click:t.confirm}},[t._v(t._s(t.local("Confirm")))]),a("fv-button",{attrs:{theme:t.theme},on:{click:function(e){t.thisShow=!1}}},[t._v(t._s(t.local("Cancel")))])]},proxy:!0}]),model:{value:t.thisShow,callback:function(e){t.thisShow=e},expression:"thisShow"}})},x=[],k={components:{floatWindowBase:u["a"]},props:{value:{default:null},show:{default:!1}},data:function(){return{thisShow:this.show,name:"",label:"",labels:[],colorList:[{name:"purple",color:"#958DF1",check:!1},{name:"red",color:"#F98181",check:!1},{name:"orange",color:"rgba(234, 152, 101, 1)",check:!1},{name:"yellow",color:"rgba(243, 228, 102, 1)",check:!1},{name:"blue",color:"#70CFF8",check:!1},{name:"teal",color:"rgba(103, 224, 192, 1)",check:!1},{name:"green",color:"#B9F18D",check:!1},{name:"red",color:"#ffa8a8",check:!1},{name:"orange",color:"#ffc078",check:!1},{name:"green",color:"#8ce99a",check:!1},{name:"blue",color:"#74c0fc",check:!1},{name:"purple",color:"#b197fc",check:!1}]}},watch:{show:function(t){this.thisShow=t},thisShow:function(t){this.$emit("update:show",t),this.value.name?this.name=this.value.name:this.name="",this.value.labels?this.labels=JSON.parse(JSON.stringify(this.value.labels)):this.labels=[]}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_index:function(t){return t.data_index},data_path:function(t){return t.data_path},items:function(t){return t.data_structure.items},theme:function(t){return t.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this},currentColor:function(){var t,e=Object(l["a"])(this.colorList);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.check)return a.color}}catch(i){e.e(i)}finally{e.f()}return"rgba(25, 106, 167, 1)"}}),methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS"})),{},{confirm:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cur_db&&t.value&&""!==t.name){e.next=2;break}return e.abrupt("return");case 2:a=t.items.find((function(e){return e.id===t.value.id})),a.name=t.name,a.labels=t.labels,t.value.name=t.name,t.value.labels=t.labels,t.reviseDS({$index:t.data_index,items:t.items}),t.thisShow=!1;case 9:case"end":return e.stop()}}),e)})))()},addLabel:function(){""!==this.label&&(this.labels.push({text:this.label,background:this.currentColor}),this.label="")},chooseColor:function(t){var e=this;this.colorList.forEach((function(a,i){t!==i&&(a.check=!1,e.$set(e.colorList,i,a))}))}})},y=k,w=Object(p["a"])(y,g,x,!1,null,null,null),_=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fv-infinite-scroll-view",{staticClass:"collapse-list-block",attrs:{value:t.visibleValue},on:{"init-start":function(e){t.loading=!0},"init-end":function(e){t.loading=!1}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.dynamicValue,(function(e,i){return a("fv-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:i,staticStyle:{margin:"5px"},attrs:{theme:t.theme,title:e.name,content:t.local("Create Time")+": "+e.createDate,maxHeight:350},nativeOn:{contextmenu:function(a){return t.rightClick(a,e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],staticClass:"icon-block"},[a("p",{staticClass:"index"},[t._v(t._s(i+1))]),a("emoji-callout",{attrs:{value:e.emoji,theme:t.theme},on:{"insert-emoji":function(a){return t.$emit("insert-emoji",{item:e,emoji:a})}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticClass:"icon-block"},[a("p",{staticClass:"index"},[t._v(t._s(i+1))]),a("fv-check-box",{attrs:{borderColor:"dark"==t.theme?"whitesmoke":""},on:{click:function(a){return t.itemChooseClick(e)}},model:{value:e.choosen,callback:function(a){t.$set(e,"choosen",a)},expression:"item.choosen"}})],1)]},proxy:!0},{key:"title",fn:function(i){return[a("div",{staticClass:"custom-collapse-title"},[a("p",{staticClass:"title-content h",on:{dblclick:function(a){e.pdf?t.$emit("open-file",e.id+"/"+e.pdf+".pdf"):t.$emit("open-file",""+e.id)}}},[t._v(t._s(i.title))])])]}},{key:"content",fn:function(i){return[a("div",{staticClass:"collapse-info",staticStyle:{display:"flex"}},[a("p",{staticStyle:{width:"180px"}},[t._v(t._s(i.content))]),e.metadata&&e.metadata.year?a("fv-button",{staticStyle:{width:"50px",height:"25px",margin:"0px 15px"},attrs:{theme:"dark",background:"rgba(0, 204, 153, 1)",fontSize:"12"}},[t._v(t._s(e.metadata.year))]):t._e()],1)]}},{key:"extension",fn:function(){return[a("fv-tag",{staticClass:"tag-block",staticStyle:{"max-width":"120px",overflow:"auto"},attrs:{value:e.labels,theme:t.theme},nativeOn:{click:function(a){return t.$emit("label-click",e)}}})]},proxy:!0}],null,!0)},[t._t("row_expand",null,{item:e})],2)})),t.loading?a("fv-shimmer",{staticStyle:{position:"relative",width:"100%",height:"auto"}},[t._l(2,(function(t,e){return a("div",{key:e,staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[a("div",{staticClass:"sample",staticStyle:{width:"30px",height:"30px",margin:"5px","border-radius":"50%"}}),a("div",{staticClass:"sample",staticStyle:{width:"80%",flex:"1",margin:"5px"}})])})),a("div",{staticStyle:{width:"100%",height:"100%",display:"flex","flex-direction":"column"}},t._l(1,(function(t,e){return a("div",{key:e,staticStyle:{"margin-top":"5px",display:"flex","align-items":"center"}},[a("div",{staticClass:"sample",staticStyle:{width:"80%",height:"15px",margin:"5px"},style:{width:100-10*e+"%"}})])})),0)],2):t._e(),a("right-menu",{attrs:{theme:t.theme,posX:t.posX,posY:t.posY,rightMenuWidth:t.rightMenuWidth},on:{"update-height":function(e){t.rightMenuHeight=e}},model:{value:t.show.rightMenu,callback:function(e){t.$set(t.show,"rightMenu",e)},expression:"show.rightMenu"}},[t._t("menu")],2)]}}],null,!0)})},I=[],S=(a("4e82"),a("4de4"),a("0e93")),O=a("820f"),j={name:"mainList",components:{emojiCallout:S["a"],rightMenu:O["a"]},props:{value:{type:Array,default:function(){return[]}},filter:{default:function(){return{key:"any",value:""}}},edit:{default:!1},desc:{default:1},sortKey:{default:""},rightMenuWidth:{default:200},theme:{default:"light"}},data:function(){return{thisValue:this.value,posX:0,posY:0,rightMenuHeight:0,loading:!1,show:{rightMenu:!1}}},watch:{value:function(){this.thisValue=this.value,this.valueInit()},thisValue:function(){this.$emit("input",this.thisValue)},sortKey:function(){this.sort()},desc:function(){this.sort()},filter:function(){this.filterValue()},"filter.value":function(){this.filterValue()}},computed:Object(o["a"])(Object(o["a"])({},Object(d["b"])(["local"])),{},{currentChoosen:function(){for(var t=[],e=0;e<this.thisValue.length;e++)this.thisValue[e].choosen&&this.thisValue[e].show&&t.push(this.thisValue[e]);return t},currentChoosenAll:function(){for(var t=0;t<this.thisValue.length;t++)if(1!=this.thisValue[t].choosen&&this.thisValue[t].show)return!1;return!0},currentChoosenNum:function(){for(var t=0,e=0;e<this.thisValue.length;e++)this.thisValue[e].choosen&&this.thisValue[e].show&&t++;return t},visibleValue:function(){for(var t=[],e=0;e<this.thisValue.length;e++)this.thisValue[e].show&&t.push(this.thisValue[e]);return t}}),mounted:function(){this.valueInit()},methods:{valueInit:function(){for(var t=JSON.parse(JSON.stringify(this.value)),e=0;e<t.length;e++)t[e].choosen=void 0!=t[e].choosen&&t[e].choosen,t[e].show=!0;this.thisValue=t,this.filterValue()},filterValue:function(){var t=this.filter;if("string"==typeof this.filter&&(t={key:"any",value:this.filter}),void 0==t.key||void 0==t.value)return console.warn(this.filter,"Invalid filter."),0;if("any"==t.key)for(var e=0;e<this.thisValue.length;e++){var a=!1,i=this.thisValue[e];for(var n in this.thisValue[e])if("string"==typeof i[n]&&i[n].toLowerCase().indexOf(t.value.toLowerCase())>-1){a=!0;break}i.show=a,this.$set(this.thisValue,e,i)}else for(var r=0;r<this.thisValue.length;r++){var o=this.thisValue[r],s=this.thisValue[r][this.filter.key].toLowerCase().indexOf(t.value.toLowerCase())>-1;o.show=s,this.$set(this.thisValue,r,o)}this.$emit("change-value",this.thisValue)},rightClick:function(t,e){t.preventDefault(),this.show.rightMenu=!0;var a=this.$el.getBoundingClientRect(),i={};i.x=t.x,i.y=t.y,i.x<a.left&&(i.x=a.left),i.x+this.rightMenuWidth>a.right&&(i.x=a.right-this.rightMenuWidth),i.y<a.top&&(i.y=a.top),i.y+this.rightMenuHeight>a.bottom&&(i.y=a.bottom-this.rightMenuHeight),this.posX=i.x,this.posY=i.y,this.$emit("rightclick",e)},itemChooseClick:function(t){var e=this.thisValue.indexOf(t),a=t;a.choosen=!a.choosen,this.$set(this.thisValue,e,a),this.$emit("change-value",this.thisValue),this.$emit("choose-items",this.currentChoosen)},sort:function(){var t=this,e=["year"],a=["name"],i=["title","publisher"],n=["createDate"];e.find((function(e){return e==t.sortKey}))?this.thisValue.sort((function(e,a){return e.metadata&&e.metadata[t.sortKey]?a.metadata&&a.metadata[t.sortKey]?t.desc*t.sortNum(e.metadata[t.sortKey],a.metadata[t.sortKey]):1*t.desc:-1*t.desc})):a.find((function(e){return e==t.sortKey}))?this.thisValue.sort((function(e,a){return e[t.sortKey]?a[t.sortKey]?t.desc*t.sortName(e[t.sortKey],a[t.sortKey]):1*t.desc:-1*t.desc})):i.find((function(e){return e==t.sortKey}))?this.thisValue.sort((function(e,a){return e.metadata&&e.metadata[t.sortKey]?a.metadata&&a.metadata[t.sortKey]?t.desc*t.sortName(e.metadata[t.sortKey],a.metadata[t.sortKey]):1*t.desc:-1*t.desc})):n.find((function(e){return e==t.sortKey}))&&this.thisValue.sort((function(e,a){return e[t.sortKey]?a[t.sortKey]?t.desc*t.sortTime(e[t.sortKey],a[t.sortKey]):1*t.desc:-1*t.desc}))},sortNum:function(t,e){return parseFloat(t)<parseFloat(e)?1:-1},sortName:function(t,e){return t?e?t.localeCompare(e):1:-1},sortTime:function(t,e){return this.$SDate.Compare(this.$SDate.Parse(t),this.$SDate.Parse(e))}}},P=j,D=(a("a148"),Object(p["a"])(P,C,I,!1,null,null,null)),$=D.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-list-empty-container",class:[{dark:"dark"===t.theme}]},[a("div",{staticClass:"nec-d1"},[t._m(0),a("p",{staticClass:"nec-content"},[t._v(t._s(t.local("No any Content")))]),a("p",{staticClass:"nec-content sec"},[t._v(t._s(t.local("Click + to Add New Item or Drag a PDF File to the Window")))])])])},N=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nec-icon-block"},[i("img",{staticClass:"empty-emo",attrs:{draggable:"false",src:a("66b3"),alt:""}})])}],T={computed:Object(o["a"])(Object(o["a"])({},Object(d["d"])({theme:function(t){return t.theme}})),Object(d["b"])(["local"]))},V=T,E=(a("ef4b"),Object(p["a"])(V,F,N,!1,null,null,null)),R=E.exports,L=a("36d6"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("float-window-base",{attrs:{title:t.local("Rename Page"),theme:t.theme},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticClass:"w-p-block"},[a("p",{staticClass:"w-title"},[t._v(t._s(t.local("Page Name")))]),a("fv-text-box",{staticStyle:{width:"100%",height:"60px","margin-top":"15px"},attrs:{placeholder:t.local("Input page name..."),theme:t.theme,"font-size":18,"font-weight":"bold",underline:"","focus-border-color":"rgba(123, 139, 209, 1)","is-box-shadow":!0},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.rename.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]},proxy:!0},{key:"control",fn:function(){return[a("fv-button",{attrs:{theme:"dark",background:"rgba(0, 153, 204, 1)",disabled:!t.value||""===t.name||!t.cur_db},on:{click:t.rename}},[t._v(t._s(t.local("Confirm")))]),a("fv-button",{attrs:{theme:t.theme},on:{click:function(e){t.thisShow=!1}}},[t._v(t._s(t.local("Cancel")))])]},proxy:!0}]),model:{value:t.thisShow,callback:function(e){t.thisShow=e},expression:"thisShow"}})},M=[],J={components:{floatWindowBase:u["a"]},props:{value:{default:null},item:{default:null},show:{default:!1}},data:function(){return{thisShow:this.show,name:""}},watch:{show:function(t){this.thisShow=t},thisShow:function(t){this.$emit("update:show",t),this.value.name?this.name=this.value.name:this.name=""}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_index:function(t){return t.data_index},data_path:function(t){return t.data_path},items:function(t){return t.data_structure.items},theme:function(t){return t.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this}}),methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS"})),{},{rename:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cur_db&&t.value&&t.item&&""!==t.name){e.next=2;break}return e.abrupt("return");case 2:a=t.items.find((function(e){return e.id===t.item.id})),i=a.pages.find((function(e){return e.id===t.value.id})),i.name=t.name,t.value.name=t.name,t.reviseDS({$index:t.data_index,items:t.items}),t.thisShow=!1;case 8:case"end":return e.stop()}}),e)})))()}})},K=J,B=Object(p["a"])(K,A,M,!1,null,null,null),q=B.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fv-panel",{attrs:{theme:t.theme,width:"500",title:t.local("Metadata"),"is-light-dismiss":!0,isAcrylic:!0,isFooter:!0},scopedSlots:t._u([{key:"container",fn:function(){return[a("div",{staticClass:"metadata-container"},[a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Title")]),a("div",{staticClass:"row-block"},[a("fv-text-box",{staticStyle:{height:"45px","font-size":"20px",flex:"1"},attrs:{theme:t.theme,placeholder:t.local("Please Input title..."),underline:!0},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getMetaInfo.apply(null,arguments)}},model:{value:t.metadata.title,callback:function(e){t.$set(t.metadata,"title",e)},expression:"metadata.title"}}),a("fv-button",{staticStyle:{width:"35px",height:"35px","margin-left":"15px"},attrs:{theme:t.theme,title:t.local("Retrieve Metadata")},on:{click:t.getMetaInfo}},[a("i",{staticClass:"ms-Icon ms-Icon--Sync",class:[{circle:!t.lock.metaInfo}]})])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.metaInfoList.length>0,expression:"metaInfoList.length > 0"}],staticClass:"metadata-item"},[a("div",{staticClass:"row-block between"},[a("p",{staticClass:"title"},[t._v(t._s(t.local("Searching Metadata")))]),a("fv-button",{staticStyle:{width:"30px",height:"30px"},attrs:{theme:"dark",borderRadius:"35",background:"rgba(220, 62, 72, 1)"},on:{click:function(e){t.metaInfoList=[]}}},[a("i",{staticClass:"ms-Icon ms-Icon--Cancel"})])],1),a("transition-group",{staticStyle:{position:"relative",width:"100%"},attrs:{tag:"div",name:"move-left-to-right"}},t._l(t.metaInfoList,(function(e,i){return a("div",{key:e.title+"-"+i,staticClass:"meta-item"},[a("div",{staticClass:"title-block"},[a("i",{staticClass:"ms-Icon ms-Icon--RightDoubleQuote"}),a("p",{staticClass:"highlight",attrs:{title:e.title},on:{click:function(a){return t.updateMetadata(e)}}},[t._v(t._s(e.title))])]),a("div",{staticClass:"label-block"},[a("fv-button",{staticStyle:{"flex-shrink":"0"},attrs:{theme:"dark",background:"rgba(145, 145, 235, 1)"}},[t._v(t._s(e.year))]),a("fv-button",{directives:[{name:"show",rawName:"v-show",value:e.publisher,expression:"item.publisher"}],staticStyle:{width:"auto",margin:"0px 5px"},attrs:{theme:"dark",background:"rgba(0, 145, 235, 1)",title:e.publisher}},[a("p",{staticStyle:{padding:"0px 15px"}},[t._v(t._s(e.publisher))])])],1),a("div",{staticClass:"extension-block"},[a("p",[t._v(t._s(e.from))]),a("fv-button",{staticStyle:{width:"30px",height:"30px"},attrs:{theme:"dark",borderRadius:"35",fontSize:"12"},on:{click:function(){e.expand^=!0,t.$set(t.metaInfoList,i,e)}}},[a("i",{staticClass:"ms-Icon",class:["ms-Icon--"+(e.expand?"DoubleChevronUp":"DoubleChevronDown")]})])],1),a("transition",{attrs:{name:e.expand?"move-top-to-bottom":"move-bottom-to-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"item.expand"}],staticClass:"abstract-block"},[a("span",[t._v(t._s(e.abstract))])])])],1)})),0)],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("BibTex Tools")]),a("div",{staticClass:"row-block"},[a("fv-combobox",{staticStyle:{width:"200px"},attrs:{theme:t.theme,placeholder:t.local("Select Type"),options:t.bibTexOptions},model:{value:t.bibTexValue,callback:function(e){t.bibTexValue=e},expression:"bibTexValue"}}),a("fv-button",{staticStyle:{width:"135px",height:"35px","margin-left":"15px"},attrs:{theme:t.theme,disabled:!t.bibTexValue.key,isBoxShadow:!0,icon:"SemiboldWeight"},on:{click:t.generateBibTex}},[t._v(" "+t._s(t.local("Generate BibTex"))+" ")])],1),a("textarea",{directives:[{name:"show",rawName:"v-show",value:t.bibTexContent,expression:"bibTexContent"},{name:"model",rawName:"v-model",value:t.bibTexContent,expression:"bibTexContent"}],staticClass:"text-area",class:{dark:"dark"==t.theme},staticStyle:{width:"100%",margin:"5px 0px","font-size":"12px"},attrs:{placeholder:t.local("BibTex Content")},domProps:{value:t.bibTexContent},on:{input:function(e){e.target.composing||(t.bibTexContent=e.target.value)}}})]),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Publisher")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input publisher...")},model:{value:t.metadata.publisher,callback:function(e){t.$set(t.metadata,"publisher",e)},expression:"metadata.publisher"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Year")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input year...")},model:{value:t.metadata.year,callback:function(e){t.$set(t.metadata,"year",e)},expression:"metadata.year"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("DOI")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input DOI...")},model:{value:t.metadata.DOI,callback:function(e){t.$set(t.metadata,"DOI",e)},expression:"metadata.DOI"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("CreateDate")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input createDate...")},model:{value:t.metadata.createDate,callback:function(e){t.$set(t.metadata,"createDate",e)},expression:"metadata.createDate"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Source")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input source...")},model:{value:t.metadata.source,callback:function(e){t.$set(t.metadata,"source",e)},expression:"metadata.source"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Url")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input url...")},model:{value:t.metadata.url,callback:function(e){t.$set(t.metadata,"url",e)},expression:"metadata.url"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("ContainerTitle")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input containerTitle...")},model:{value:t.metadata.containerTitle,callback:function(e){t.$set(t.metadata,"containerTitle",e)},expression:"metadata.containerTitle"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Abstract")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.metadata.abstract,expression:"metadata.abstract"}],staticClass:"text-area",class:{dark:"dark"==t.theme},attrs:{placeholder:t.local("Please Input abstract...")},domProps:{value:t.metadata.abstract},on:{input:function(e){e.target.composing||t.$set(t.metadata,"abstract",e.target.value)}}})]),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("ISSN")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input ISSN...")},model:{value:t.metadata.ISSN,callback:function(e){t.$set(t.metadata,"ISSN",e)},expression:"metadata.ISSN"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Language")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input language...")},model:{value:t.metadata.language,callback:function(e){t.$set(t.metadata,"language",e)},expression:"metadata.language"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Chapter")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input chapter...")},model:{value:t.metadata.chapter,callback:function(e){t.$set(t.metadata,"chapter",e)},expression:"metadata.chapter"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Pages")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input pages...")},model:{value:t.metadata.pages,callback:function(e){t.$set(t.metadata,"pages",e)},expression:"metadata.pages"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Note")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input note...")},model:{value:t.metadata.note,callback:function(e){t.$set(t.metadata,"note",e)},expression:"metadata.note"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("School")]),a("fv-text-box",{attrs:{theme:t.theme,placeholder:t.local("Please Input school...")},model:{value:t.metadata.school,callback:function(e){t.$set(t.metadata,"school",e)},expression:"metadata.school"}})],1),a("div",{staticClass:"metadata-item"},[a("p",{staticClass:"title"},[t._v("Authors")]),a("fv-button",{directives:[{name:"show",rawName:"v-show",value:0===t.metadata.authors.length,expression:"metadata.authors.length === 0"}],attrs:{theme:"dark",background:"rgba(0, 204, 153, 1)",borderRadius:"50"},on:{click:function(e){return t.addAuthor(0)}}},[a("i",{staticClass:"ms-Icon ms-Icon--Add"})]),t._l(t.metadata.authors,(function(e,i){return a("div",{key:i,staticClass:"author-block"},[a("fv-button",{staticClass:"control-btn",attrs:{theme:"dark",background:"rgba(173, 38, 45, 1)",borderRadius:"50"},on:{click:function(e){return t.delAuthor(i)}}},[a("i",{staticClass:"ms-Icon ms-Icon--Remove"})]),a("fv-text-box",{staticStyle:{margin:"0px 3px"},attrs:{placeholder:t.local("First Name"),theme:t.theme},model:{value:e.first,callback:function(a){t.$set(e,"first",a)},expression:"author.first"}}),a("fv-text-box",{staticStyle:{margin:"0px 3px"},attrs:{placeholder:t.local("Last Name"),theme:t.theme},model:{value:e.last,callback:function(a){t.$set(e,"last",a)},expression:"author.last"}}),a("fv-text-box",{staticStyle:{margin:"0px 3px"},attrs:{placeholder:t.local("Sequence"),theme:t.theme},model:{value:e.sequence,callback:function(a){t.$set(e,"sequence",a)},expression:"author.sequence"}}),a("fv-button",{staticClass:"control-btn",attrs:{theme:"dark",background:"rgba(0, 204, 153, 1)",borderRadius:"50"},on:{click:function(e){return t.addAuthor(i)}}},[a("i",{staticClass:"ms-Icon ms-Icon--Add"})])],1)}))],2)])]},proxy:!0},{key:"footer",fn:function(){return[a("fv-button",{attrs:{theme:"dark",background:"rgba(0, 90, 158, 1)"},on:{click:t.save}},[t._v(t._s(t.local("Confirm")))]),a("fv-button",{staticStyle:{"margin-left":"5px"},attrs:{theme:t.theme},on:{click:function(e){t.thisValue=!1}}},[t._v(t._s(t.local("Cancel")))])]},proxy:!0}]),model:{value:t.thisValue,callback:function(e){t.thisValue=e},expression:"thisValue"}})},z=[];a("a4d3"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0");function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}a("25f0");var H=a("d4ec"),Y=a("bee2"),G=(a("ac1f"),a("5319"),a("1276"),a("fb6a"),a("b680"),function(){function t(){Object(H["a"])(this,t)}return Object(Y["a"])(t,null,[{key:"cref_getInfoByTitle",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="https://api.crossref.org/works",a=a.replace(/ +/g,"+"),e.prev=2,e.next=5,new Promise((function(e){i.get(n,{params:{"query.bibliographic":a}},{timeout:1e4}).then((function(a){e(t.formatCref(a.data.message.items))})).catch((function(t){console.log(t),e([])}))}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e["catch"](2),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));function a(t,a){return e.apply(this,arguments)}return a}()},{key:"formatCref",value:function(t){var e=[];return t.forEach((function(t){var a=JSON.parse(JSON.stringify(h["e"])),i=[];a.title=t.title[0],a.DOI=t.DOI,a.abstract=t.abstract,a.ISSN=t.ISSN?t.ISSN[0]:"",a.containerTitle=t["container-title"]?t["container-title"][0]:"",a.createDate=t.created?t.created["date-time"]:"",a.language=t.language,a.publisher=t.publisher,a.source=t.source,a.url=t.URL,t.author&&t.author.forEach((function(t){var e=JSON.parse(JSON.stringify(h["a"]));e.first=t.first||t.given,e.last=t.last||t.family,e.sequence=t.sequence,i.push(e)})),a.authors=i,""!=a.createDate&&(a.year=new Date(a.createDate).getFullYear().toString()),a.from="CrossRef",e.push(a)})),e}},{key:"semanticScholar_getInfoByTitle",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="https://api.semanticscholar.org/graph/v1/paper/search",a=a.replace(/ +/g,"+"),e.prev=2,e.next=5,new Promise((function(e){i.get(n,{params:{query:a,fields:"url,title,abstract,authors,year,venue,fieldsOfStudy"}},{timeout:1e4}).then((function(a){e(t.formatSemanticScholar(a.data.data))})).catch((function(t){console.log(t),e([])}))}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e["catch"](2),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));function a(t,a){return e.apply(this,arguments)}return a}()},{key:"formatSemanticScholar",value:function(t){var e=[];return t.forEach((function(t){var a=JSON.parse(JSON.stringify(h["e"])),i=[];a.title=t.title,a.abstract=t.abstract,a.year=t.year.toString(),a.publisher=t.venue,a.url=t.url,t.authors.forEach((function(t,e){var a=JSON.parse(JSON.stringify(h["a"])),n=t["name"].split(" ");a.first=n[0],n.length>1&&(a.last=n.slice(1).join(" ")),a.sequence=0==e?"first":"additional",i.push(a)})),a.authors=i,a.from="Semantic Scholar",e.push(a)})),e}},{key:"titleSimilar",value:function(t,e,a){if(!t||!e)return 0;var i=t.length>e.length?t.length:e.length,n=t.length,r=e.length,o=[];a=a||3;var s,c,l,u,h,d=function(t,e,a){return t<e?t<a?t:a:e<a?e:a};if(0===n)return r;if(0===r)return n;for(s=0;s<=n;s++)o[s]=[],o[s][0]=s;for(c=0;c<=r;c++)o[0][c]=c;for(s=1;s<=n;s++)for(l=t.charAt(s-1),c=1;c<=r;c++)u=e.charAt(c-1),h=l===u?0:1,o[s][c]=d(o[s-1][c]+1,o[s][c-1]+1,o[s-1][c-1]+h);var m=1-o[n][r]/i;return m.toFixed(a)}}]),t}()),X={props:{value:{default:!1},item:{default:null}},data:function(){return{thisValue:this.value,metaAPI:G,metaInfoList:[],metadata:{publisher:"",DOI:"",year:"",createDate:"",source:"",title:"",url:"",containerTitle:"",abstract:"",ISSN:"",language:"",chapter:"",pages:"",school:"",note:"",authors:[]},bibTexValue:{},bibTexOptions:[{key:"article",text:"Article",required:{author:"author",title:"title",journal:"publisher",year:"year"}},{key:"book",text:"Book",required:{author:"author",title:"title",publisher:"publisher",year:"year"}},{key:"booklet",text:"Booklet",required:{title:"title"}},{key:"inbook",text:"Inbook",required:{author:"author",title:"title",publisher:"publisher",year:"year",chapter:"chapter",pages:"pages"}},{key:"incollection",text:"Incollection",required:{author:"author",title:"title",publisher:"publisher",year:"year",booktitle:"containerTitle"}},{key:"conference",text:"Conference",required:{author:"author",title:"title",publisher:"publisher",year:"year",booktitle:"containerTitle"}},{key:"inproceedings",text:"Inproceedings",required:{author:"author",title:"title",publisher:"publisher",year:"year",booktitle:"containerTitle"}},{key:"manual",text:"Manual",required:{title:"title"}},{key:"mastersthesis",text:"Mastersthesis",required:{author:"author",title:"title",school:"school",year:"year"}},{key:"misc",text:"Misc",required:{title:"title"}},{key:"phdthesis",text:"Phdthesis",required:{author:"author",title:"title",school:"school",year:"year"}},{key:"proceedings",text:"Proceedings",required:{title:"title",year:"year"}},{key:"techreport",text:"Techreport",required:{author:"author",title:"title",institution:"publisher",year:"year"}},{key:"unpublished",text:"Unpublished",required:{author:"author",title:"title",note:"note"}}],bibTexContent:"",lock:{metaInfo:!0}}},watch:{value:function(t){this.thisValue=t},thisValue:function(t){this.$emit("input",t)},item:function(){this.metadataInit(),this.metaInfoList=[],this.lock.metaInfo=!0,this.bibTexContent=""}},computed:Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_path:function(t){return t.data_path},data_index:function(t){return t.data_index},items:function(t){return t.data_structure.items},theme:function(t){return t.theme}})),Object(d["b"])(["local","cur_db"])),mounted:function(){this.metadataInit()},methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS"})),{},{metadataInit:function(){if(this.item.metadata){for(var t in this.metadata)this.item.metadata[t]?"object"===U(this.item.metadata[t])?this.metadata[t]=this.item.metadata[t]:this.metadata[t]=this.item.metadata[t].toString():this.metadata[t]="";this.item.metadata.authors||(this.metadata.authors=[])}},addAuthor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.metadata.authors.splice(t,0,JSON.parse(JSON.stringify(h["a"])))},delAuthor:function(t){this.metadata.authors.splice(t,1)},getMetaInfo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,n,r,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.lock.metaInfo){e.next=2;break}return e.abrupt("return");case 2:if(t.metadata.title){e.next=4;break}return e.abrupt("return");case 4:for(t.lock.metaInfo=!1,a=[],i=[t.metaAPI.cref_getInfoByTitle,t.metaAPI.semanticScholar_getInfoByTitle],n=0,r=i;n<r.length;n++)o=r[n],a.push(o(t.metadata.title,t.axios));return s=[],e.next=11,Promise.all(a).then((function(t){t.forEach((function(t){s=s.concat(t)}))}));case 11:s.sort((function(e,a){return t.metaAPI.titleSimilar(a.title,t.metadata.title)-t.metaAPI.titleSimilar(e.title,t.metadata.title)})),t.metaInfoList=s,t.lock.metaInfo=!0;case 14:case"end":return e.stop()}}),e)})))()},updateMetadata:function(t){Object.assign(this.metadata,t)},save:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.items.find((function(e){return e.id===t.item.id})),a.metadata=JSON.parse(JSON.stringify(t.metadata)),t.item.metadata=JSON.parse(JSON.stringify(t.metadata)),t.reviseDS({$index:t.data_index,items:t.items}),e.next=6,t.saveMetadata(t.metadata,a.id);case 6:t.thisValue=!1;case 7:case"end":return e.stop()}}),e)})))()},saveMetadata:function(t){var e=arguments;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.length>1&&void 0!==e[1]?e[1]:null,console.log(a);case 2:case"end":return t.stop()}}),t)})))()},generateBibTex:function(){var t=this.bibTexValue.required,e={};for(var a in t)if("author"==a){if(!this.metadata.authors.length>0)return void this.$barWarning("'".concat(a,"' ").concat(this.local("is required")),{status:"warning"});this.metadata.authors.forEach((function(t){var a="".concat(t.last,", ").concat(t.first);e.name?e.name+=" and ".concat(a):e.name=a}))}else{if(!this.metadata[t[a]])return void this.$barWarning("'".concat(t[a],"' ").concat(this.local("is required")),{status:"warning"});e[a]=this.metadata[t[a]]}var i=function(){var t="";for(var a in e)t+="".concat(a," = {").concat(e[a],"},\n");return t},n="@".concat(this.bibTexValue.key," {ikfb").concat(this.$Guid(),",\n                ").concat(i(),"\n            }");this.bibTexContent=n,this.$barWarning(this.local("Successfully copied to clipboard"),{status:"correct"})}})},Q=X,Z=(a("1e8a"),Object(p["a"])(Q,W,z,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.cur_db?a("float-window-base",{attrs:{title:t.title,theme:t.theme},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticClass:"tree-view-window"},[a("fv-TreeView",{staticStyle:{width:"100%",height:"100%",overflow:"auto"},attrs:{checkable:!0,theme:t.theme,expandedIconPosition:"right",background:"dark"==t.theme?"rgba(45, 45, 45, 1)":"rgba(255, 255, 255, 1)","view-style":{backgroundColor:"dark"==t.theme?"rgba(45, 45, 45, 1)":"rgba(255, 255, 255, 1)",backgroundColorHover:"dark"==t.theme?"rgba(200, 200, 200, 0.1)":"rgba(255, 255, 255, 1)"}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"tree-view-custom-item"},[a("p",[t._v(t._s(e.item.emoji))]),a("p",{staticClass:"tree-view-custom-label"},[t._v(t._s(e.item.name))])])]}}],null,!1,1120196602),model:{value:t.treeList,callback:function(e){t.treeList=e},expression:"treeList"}})],1)]},proxy:!0},{key:"control",fn:function(){return[a("fv-button",{attrs:{theme:"dark",background:"rgba(0, 153, 204, 1)",disabled:!t.cur_db||!t.confirmDisable},on:{click:t.confirm}},[t._v(t._s(t.local("Confirm")))]),a("fv-button",{attrs:{theme:t.theme},on:{click:function(e){t.thisValue=!1}}},[t._v(t._s(t.local("Cancel")))])]},proxy:!0}],null,!1,792328605),model:{value:t.thisValue,callback:function(e){t.thisValue=e},expression:"thisValue"}}):t._e()},at=[],it={components:{floatWindowBase:u["a"]},props:{value:{default:!1},title:{default:"Folder"}},data:function(){return{thisValue:this.value,treeList:[]}},watch:{value:function(t){this.thisValue=t},thisValue:function(t){t&&this.refreshTreeList(),this.$emit("input",t)}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_index:function(t){return t.data_index},data_path:function(t){return t.data_path},groups:function(t){return t.data_structure.groups},partitions:function(t){return t.data_structure.partitions},theme:function(t){return t.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this},confirmDisable:function(){for(var t=[].concat(this.treeList),e=[],a=0;a<t.length;a++)t[a].children&&(t=t.concat(t[a].children)),"partition"===t[a].type&&e.push(t[a]),t[a].partitions&&(e=e.concat(t[a].partitions));for(var i=0;i<e.length;i++)if(e[i].selected)return!0;return!1}}),mounted:function(){this.refreshTreeList()},methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS"})),{},{refreshTreeList:function(){var t=this,e=[],a=JSON.parse(JSON.stringify(this.groups));a.forEach((function(a){var i=t.dfsTree(a);e.push(i)})),e=e.concat(this.transPartitions(this.partitions)),this.treeList=e},dfsTree:function(t){var e=JSON.parse(JSON.stringify(t));if(e.selected=!1,e.children=e.groups,e.editable=void 0!=e.editable&&e.editable,e.type="group",e.icon="Folder",void 0==e.children||0==e.children.length)return e.children=this.transPartitions(e.partitions),e;for(var a=0;a<e.children.length;a++)e.children[a]=this.dfsTree(e.children[a]);return e.children=e.children.concat(this.transPartitions(e.partitions)),e},transPartitions:function(t){var e=JSON.parse(JSON.stringify(t));return e.forEach((function(t,a){t.selected=!1,t.editable=void 0!=t.editable&&t.editable,t.type="partition",t.icon="FileCode",e[a]=t})),e},confirm:function(){for(var t=[].concat(this.treeList),e=[],a=[],i=0;i<t.length;i++)t[i].children&&(t=t.concat(t[i].children)),"partition"===t[i].type&&e.push(t[i]),t[i].partitions&&(e=e.concat(t[i].partitions));for(var n=0;n<e.length;n++)e[n].selected&&a.push(e[n].id);this.$emit("choose-partitions",a),this.thisValue=!1}})},nt=it,rt=(a("bb1c"),Object(p["a"])(nt,et,at,!1,null,null,null)),ot=rt.exports,st=a("df7c"),ct={components:{addItem:v,renameItem:_,mainList:$,itemListEmpty:R,addItemPage:L["a"],renameItemPage:q,metadataPanel:tt,folderWindow:ot,emojiCallout:S["a"]},data:function(){var t=this;return{cmd:[{name:function(){return t.local("Add")},icon:"Add",iconColor:"rgba(0, 90, 158, 1)",disabled:function(){return null===t.cur_db||!t.lock},func:function(){t.show.add=!0}},{name:function(){return t.local("Import")},icon:"Upload",iconColor:"rgba(0, 90, 158, 1)",disabled:function(){return null===t.cur_db||!t.lock},func:function(){t.$barWarning(t.local("Function is not supported yet."),{status:"warning"})}},{name:function(){return t.editable?t.local("Cancel Multi-Selection"):t.local("Multi-Selection")},icon:"MultiSelect",iconColor:"rgba(0, 90, 158, 1)",disabled:function(){return null===t.cur_db||!t.lock},func:function(){t.editable^=!0}},{name:function(){return t.local("Copy to Partitions")},icon:"FabricMovetoFolder",iconColor:"rgba(0, 90, 158, 1)",disabled:function(){return 0===t.currentChoosen.length||!t.lock},func:function(){t.show.folder=!0}},{name:function(){return t.local("Remove From Partition")},icon:"RemoveFrom",iconColor:"rgba(220, 62, 72, 1)",disabled:function(){return 0===t.currentChoosen.length||!t.lock||!1===t.pid},func:this.deleteItemsFromPartition},{name:function(){return t.local("Delete")},icon:"Delete",iconColor:"rgba(220, 62, 72, 1)",disabled:function(){return 0===t.currentChoosen.length||!t.lock||!1!==t.pid},func:this.deleteItems}],sortKey:{},sortOptions:[{key:"name",text:function(){return t.local("Name")}},{key:"title",text:function(){return t.local("Title")}},{key:"publisher",text:function(){return t.local("Publisher")}},{key:"createDate",text:function(){return t.local("Create Date")}},{key:"year",text:function(){return t.local("Year")}}],sortDesc:1,editable:!1,filterItems:[],currentItem:{},currentChoosen:[],currentItemPage:{},currentSearch:"",show:{add:!1,rename:!1,addItemPage:!1,renameItemPage:!1,metadata:!1,folder:!1},lock:!0}},watch:{$route:function(){this.itemsEnsureFolder(),this.refreshFilterItems()},items:function(){this.refreshFilterItems()}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({onedrive:function(t){return t.onedrive},data_path:function(t){return t.data_path},data_index:function(t){return t.data_index},items:function(t){return t.data_structure.items},groups:function(t){return t.data_structure.groups},partitions:function(t){return t.data_structure.partitions},theme:function(t){return t.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this},pid:function(){return void 0!==this.$route.params.id&&this.$route.params.id},pname:function(){if(!1===this.pid)return"Unknown";for(var t=[].concat(this.groups),e=[],a=0;a<t.length;a++)t[a].groups&&(t=t.concat(t[a].groups)),t[a].partitions&&(e=e.concat(t[a].partitions));e=e.concat(this.partitions);for(var i=0;i<e.length;i++)if(e[i].id===this.pid)return e[i].name;return"Unknown"},filterItemsId:function(){if(!1===this.pid)return!0;for(var t=[].concat(this.groups),e=[],a=[],i=0;i<t.length;i++)t[i].groups&&(t=t.concat(t[i].groups)),t[i].partitions&&(e=e.concat(t[i].partitions));e=e.concat(this.partitions);for(var n=0;n<e.length;n++)if(e[n].id===this.pid){a=JSON.parse(JSON.stringify(e[n].items));break}return a}}),mounted:function(){this.itemsEnsureFolder(),this.refreshFilterItems()},methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS",reviseEditor:"reviseEditor",toggleEditor:"toggleEditor"})),{},{refreshFilterItems:function(){var t=this;if(!0===this.filterItemsId)this.filterItems=this.items;else{var e=[];this.items.forEach((function(a,i){t.filterItemsId.indexOf(a.id)>-1&&e.push(t.items[i])})),this.filterItems=e}},itemsEnsureFolder:function(){this.cur_db&&-1!=this.data_index&&(this.lock=!1)},deleteItem:function(){var t=this;this.currentItem.id&&this.lock&&this.$infoBox(this.local("Are you sure to delete this item?"),{status:"error",title:this.local("Delete Item"),confirmTitle:this.local("Confirm"),cancelTitle:this.local("Cancel"),theme:this.theme,confirm:function(){t.lock=!1;var e=t.items.indexOf(t.items.find((function(e){return e.id===t.currentItem.id})));t.items.splice(e,1),t.reviseDS({$index:t.data_index,items:t.items}),t.delItemsFromPs([t.currentItem.id]),t.lock=!0},cancel:function(){}})},deleteItems:function(){var t=this;this.currentChoosen&&this.lock&&this.$infoBox(this.local("Are you sure to delete these items?"),{status:"error",title:this.local("Delete Items"),confirmTitle:this.local("Confirm"),cancelTitle:this.local("Cancel"),theme:this.theme,confirm:function(){t.lock=!1;var e=[],a=JSON.parse(JSON.stringify(t.currentChoosen));a.forEach((function(a){e.push(a.id);var i=t.items.indexOf(t.items.find((function(t){return t.id===a.id})));t.items.splice(i,1),t.reviseDS({$index:t.data_index,items:t.items}),t.delItemsFromPs(e),t.currentChoosen=[],t.lock=!0}))},cancel:function(){}})},delItemsFromPs:function(t){if(0!==t.length){for(var e=[].concat(this.groups),a=[],i=0;i<e.length;i++)e[i].groups&&(e=e.concat(e[i].groups)),e[i].partitions&&(a=a.concat(e[i].partitions));a=a.concat(this.partitions),a.forEach((function(e,i){for(var n=0;n<t.length;n++){var r=e.items.indexOf(t[n]);r>-1&&e.items.splice(r,1)}a[i].items=e.items}))}},reviseItemPdf:function(){var t=this;this.revisePdfImporter({mode:"item",item:this.currentItem}),setTimeout((function(){t.pdf_importer.inputInspectClick()}),300)},importPdf:function(){var t=this;this.revisePdfImporter({mode:"import"}),setTimeout((function(){t.pdf_importer.inputInspectClick()}),300)},openEditor:function(t,e){this.reviseEditor({type:"item",item:t,target:e,scrollTop:0,history:[]}),this.toggleEditor(!0)},openFile:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=st.join(e.data_path[e.data_index],"root/items",t),a.next=3,e.cur_db.getFileInfo(i);case 3:n=a.sent,e.$Jump(n.webUrl);case 5:case"end":return a.stop()}}),a)})))()},copyItemsToPartitions:function(t){for(var e=this,a=[].concat(this.groups),i=[],n=[],r=0;r<a.length;r++)a[r].groups&&(a=a.concat(a[r].groups)),a[r].partitions&&(i=i.concat(a[r].partitions));i=i.concat(this.partitions);for(var o=0;o<i.length;o++)t.indexOf(i[o].id)>-1&&n.push(i[o]);var s=this.currentChoosen;void 0===this.currentChoosen.find((function(t){return t.id===e.currentItem.id}))&&s.push(this.currentItem),0!==s.length&&(n.forEach((function(t,e){for(var a=function(e){if(void 0!==t.items.find((function(t){return t===s[e].id})))return"continue";t.items.push(s[e].id)},i=0;i<s.length;i++)a(i);n[e].items=t.items})),this.currentChoosen=[],this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions}))},deleteItemsFromPartition:function(){var t=this;if(!1!==this.pid){for(var e=[].concat(this.groups),a=[],i={},n=0;n<e.length;n++)e[n].groups&&(e=e.concat(e[n].groups)),e[n].partitions&&(a=a.concat(e[n].partitions));a=a.concat(this.partitions);for(var r=0;r<a.length;r++)if(a[r].id===this.pid){i=a[r];break}var o=this.currentChoosen;if(void 0===this.currentChoosen.find((function(e){return e.id===t.currentItem.id}))&&o.push(this.currentItem),0!==o.length){for(var s=0;s<o.length;s++){var c=i.items.indexOf(o[s].id);c>-1&&i.items.splice(c,1)}this.currentChoosen=[],this.reviseDS({$index:this.data_index,groups:this.groups,partitions:this.partitions}),this.refreshFilterItems()}}},showRenameItemPage:function(t,e){this.currentItem=t,this.currentItemPage=e,this.show.renameItemPage=!0},showMetadata:function(t){this.currentItem=t,this.show.metadata=!0},reviseItemEmoji:function(t,e){if(this.cur_db&&this.items){var a=this.items.find((function(e){return e.id===t.id}));a.emoji=e,t.emoji=e,this.reviseDS({$index:this.data_index,items:this.items})}},revisePageEmoji:function(t,e,a){if(this.cur_db&&this.items){var i=this.items.find((function(e){return e.id===t.id})),n=i.pages.find((function(t){return t.id===e.id}));n.emoji=a,e.emoji=a,this.reviseDS({$index:this.data_index,items:this.items}),this.thisShow=!1}},deleteItemPage:function(t,e){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a.$infoBox(a.local("Are you sure to delete this page?"),{status:"error",title:a.local("Delete Page"),confirmTitle:a.local("Confirm"),cancelTitle:a.local("Cancel"),theme:a.theme,confirm:function(){var i=Object(r["a"])(regeneratorRuntime.mark((function i(){var n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=a.items.find((function(e){return e.id===t})),r=n.pages.indexOf(e),n.pages.splice(r,1),i.next=5,a.reviseDS({$index:a.data_index,items:a.items});case 5:case"end":return i.stop()}}),i)})));function n(){return i.apply(this,arguments)}return n}(),cancel:function(){}});case 1:case"end":return i.stop()}}),i)})))()}})},lt=ct,ut=(a("7252"),Object(p["a"])(lt,i,n,!1,null,null,null));e["default"]=ut.exports},8471:function(t,e,a){},a148:function(t,e,a){"use strict";a("2b88")},addb:function(t,e,a){var i=a("4dae"),n=Math.floor,r=function(t,e){var a=t.length,c=n(a/2);return a<8?o(t,e):s(t,r(i(t,0,c),e),r(i(t,c),e),e)},o=function(t,e){var a,i,n=t.length,r=1;while(r<n){i=r,a=t[r];while(i&&e(t[i-1],a)>0)t[i]=t[--i];i!==r++&&(t[i]=a)}return t},s=function(t,e,a,i){var n=e.length,r=a.length,o=0,s=0;while(o<n||s<r)t[o+s]=o<n&&s<r?i(e[o],a[s])<=0?e[o++]:a[s++]:o<n?e[o++]:a[s++];return t};t.exports=r},bb1c:function(t,e,a){"use strict";a("3f8d")},d998:function(t,e,a){var i=a("342f");t.exports=/MSIE|Trident/.test(i)},ef4b:function(t,e,a){"use strict";a("4213")}}]);
//# sourceMappingURL=chunk-1c5117a5.446ef82b.js.map