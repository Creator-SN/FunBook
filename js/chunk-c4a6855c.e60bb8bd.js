(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4a6855c"],{"3c67":function(e,t,n){},"54e6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ikfb-templates-container",class:[{dark:"dark"===e.theme}]},[n("div",{staticClass:"s-row"},[n("p",{staticClass:"s-title"},[e._v(e._s(e.local("Templates")))])]),n("div",{staticClass:"m-templates-block"},[n("div",{staticClass:"row between"},[n("fv-text-box",{staticStyle:{"box-shadow":"0px 3px 8px rgba(0, 0, 0, 0.1)"},attrs:{placeholder:e.local("Filtering from current content"),theme:e.theme,background:"dark"===e.theme?"rgba(75, 75, 75, 1)":"rgba(245, 245, 245, 1)",icon:"Filter",borderWidth:"2",revealBorder:!0},model:{value:e.currentSearch,callback:function(t){e.currentSearch=t},expression:"currentSearch"}})],1),n("div",{staticClass:"row command-bar"},[n("fv-command-bar",{staticStyle:{flex:"1"},attrs:{options:e.cmd,theme:e.theme,background:"dark"===e.theme?"transparent":"rgba(245, 245, 245, 1)"}})],1),n("div",{staticClass:"row main-table"},[n("template-grid",{attrs:{value:e.templates,filter:e.currentSearch},on:{rightclick:function(t){e.currentItem=t},"choose-items":function(t){e.currentChoosen=t},"item-click":function(t){return e.openEditor(t)}},scopedSlots:e._u([{key:"menu",fn:function(){return[n("div",[n("span",{on:{click:function(t){e.show.rename=!0}}},[n("i",{staticClass:"ms-Icon ms-Icon--Rename",staticStyle:{color:"rgba(0, 153, 204, 1)"}}),n("p",[e._v(e._s(e.local("Rename Template")))])]),n("span",{on:{click:e.deleteTemplate}},[n("i",{staticClass:"ms-Icon ms-Icon--Delete",staticStyle:{color:"rgba(173, 38, 45, 1)"}}),n("p",[e._v(e._s(e.local("Delete Template")))])])])]},proxy:!0}])})],1)]),n("add-template",{attrs:{show:e.show.add},on:{"update:show":function(t){return e.$set(e.show,"add",t)}}}),n("rename-template",{attrs:{value:e.currentItem,show:e.show.rename},on:{"update:show":function(t){return e.$set(e.show,"rename",t)}}})],1)},r=[],o=n("5530"),c=(n("7db0"),n("d3b7"),n("a434"),n("e9c4"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("float-window-base",{attrs:{title:e.local("Add Template"),theme:e.theme},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",{staticClass:"w-p-block"},[n("p",{staticClass:"w-title"},[e._v(e._s(e.local("Template Name")))]),n("fv-text-box",{attrs:{placeholder:e.local("Input template name..."),theme:e.theme},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]},proxy:!0},{key:"control",fn:function(){return[n("fv-button",{attrs:{theme:"dark",background:"rgba(0, 153, 204, 1)",disabled:""===e.name||!e.cur_db},on:{click:e.add}},[e._v(e._s(e.local("Confirm")))]),n("fv-button",{attrs:{theme:e.theme},on:{click:function(t){e.thisShow=!1}}},[e._v(e._s(e.local("Cancel")))])]},proxy:!0}]),model:{value:e.thisShow,callback:function(t){e.thisShow=t},expression:"thisShow"}})}),i=[],s=n("1da1"),l=(n("96cf"),n("b0c0"),n("4c9f")),u=n("bb93"),d=n("2f62"),m={components:{floatWindowBase:l["a"]},props:{show:{default:!1}},data:function(){return{thisShow:this.show,name:""}},watch:{show:function(e){this.thisShow=e},thisShow:function(e){this.$emit("update:show",e),this.name=""}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_index:function(e){return e.data_index},data_path:function(e){return e.data_path},templates:function(e){return e.data_structure.templates},theme:function(e){return e.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this}}),methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS"})),{},{add:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.cur_db&&""!==e.name){t.next=2;break}return t.abrupt("return");case 2:n=JSON.parse(JSON.stringify(u["f"])),n.id=e.$Guid(),n.name=e.name,n.emoji="ðŸ“‘",n.createDate=e.$SDate.DateToString(new Date),e.templates.push(n),e.reviseDS({$index:e.data_index,templates:e.templates}),e.thisShow=!1;case 10:case"end":return t.stop()}}),t)})))()}})},h=m,p=n("2877"),f=Object(p["a"])(h,c,i,!1,null,null,null),b=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("float-window-base",{attrs:{title:e.local("Rename Template"),theme:e.theme},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",{staticClass:"w-p-block"},[n("p",{staticClass:"w-title"},[e._v(e._s(e.local("Template Name")))]),n("fv-text-box",{attrs:{placeholder:e.local("Input template name..."),theme:e.theme},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.rename.apply(null,arguments)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]},proxy:!0},{key:"control",fn:function(){return[n("fv-button",{attrs:{theme:"dark",background:"rgba(0, 153, 204, 1)",disabled:!e.value||""===e.name||!e.cur_db},on:{click:e.rename}},[e._v(e._s(e.local("Confirm")))]),n("fv-button",{attrs:{theme:e.theme},on:{click:function(t){e.thisShow=!1}}},[e._v(e._s(e.local("Cancel")))])]},proxy:!0}]),model:{value:e.thisShow,callback:function(t){e.thisShow=t},expression:"thisShow"}})},w=[],k={components:{floatWindowBase:l["a"]},props:{value:{default:null},show:{default:!1}},data:function(){return{thisShow:this.show,name:""}},watch:{show:function(e){this.thisShow=e},thisShow:function(e){this.$emit("update:show",e),this.value.name?this.name=this.value.name:this.name=""}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_index:function(e){return e.data_index},data_path:function(e){return e.data_path},templates:function(e){return e.data_structure.templates},theme:function(e){return e.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this}}),methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS"})),{},{rename:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.cur_db&&e.value&&""!==e.name){t.next=2;break}return t.abrupt("return");case 2:n=e.templates.find((function(t){return t.id===e.value.id})),n.name=e.name,e.value.name=e.name,e.reviseDS({$index:e.data_index,templates:e.templates}),e.thisShow=!1;case 7:case"end":return t.stop()}}),t)})))()}})},_=k,x=Object(p["a"])(_,v,w,!1,null,null,null),S=x.exports,O=n("19c1"),g={components:{addTemplate:b,renameTemplate:S,templateGrid:O["a"]},data:function(){var e=this;return{cmd:[{name:function(){return e.local("Add")},icon:"Add",iconColor:"rgba(0, 90, 158, 1)",disabled:function(){return null===e.cur_db||!e.lock},func:function(){e.show.add=!0}},{name:function(){return e.local("Delete")},icon:"Delete",iconColor:"rgba(173, 38, 45, 1)",disabled:function(){return 0===e.currentChoosen.length||!e.lock},func:this.deleteTemplates}],head:[{content:"No.",width:120},{content:"Icon",sortName:"emoji",width:80},{content:"Name",sortName:"name",width:300},{content:"Create Date",sortName:"createDate",width:120}],currentItem:{},currentChoosen:[],currentSearch:"",show:{add:!1,rename:!1},lock:!0}},watch:{$route:function(){this.templatesEnsureFolder()}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["d"])({data_path:function(e){return e.data_path},data_index:function(e){return e.data_index},templates:function(e){return e.data_structure.templates},theme:function(e){return e.theme}})),Object(d["b"])(["local","cur_db"])),{},{v:function(){return this}}),mounted:function(){this.templatesEnsureFolder()},methods:Object(o["a"])(Object(o["a"])({},Object(d["c"])({reviseDS:"reviseDS",reviseEditor:"reviseEditor",toggleEditor:"toggleEditor"})),{},{templatesEnsureFolder:function(){this.cur_db&&-1!=this.data_index&&(this.lock=!1)},deleteTemplate:function(){var e=this;this.currentItem.id&&this.lock&&this.$infoBox(this.local("Are you sure to delete this template?"),{status:"error",title:this.local("Delete Template"),confirmTitle:this.local("Confirm"),cancelTitle:this.local("Cancel"),theme:this.theme,confirm:function(){e.lock=!1;var t=e.templates.indexOf(e.templates.find((function(t){return t.id===e.currentItem.id})));e.templates.splice(t,1),e.reviseDS({$index:e.data_index,templates:e.templates}),e.lock=!0},cancel:function(){}})},deleteTemplates:function(){var e=this;this.currentChoosen&&this.lock&&this.$infoBox(this.local("Are you sure to delete these templates?"),{status:"error",title:this.local("Delete Templates"),confirmTitle:this.local("Confirm"),cancelTitle:this.local("Cancel"),theme:this.theme,confirm:function(){e.lock=!1;var t=JSON.parse(JSON.stringify(e.currentChoosen));t.forEach((function(t){var n=e.templates.indexOf(e.templates.find((function(e){return e.id===t.id})));e.templates.splice(n,1),e.reviseDS({$index:e.data_index,templates:e.templates}),e.lock=!0}))},cancel:function(){}})},openEditor:function(e){this.reviseEditor({type:"template",item:{},target:e}),this.toggleEditor(!0)}})},j=g,y=(n("d040"),Object(p["a"])(j,a,r,!1,null,null,null));t["default"]=y.exports},d040:function(e,t,n){"use strict";n("3c67")}}]);
//# sourceMappingURL=chunk-c4a6855c.e60bb8bd.js.map