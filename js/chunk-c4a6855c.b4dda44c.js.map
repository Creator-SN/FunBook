{"version":3,"sources":["webpack:///./src/views/templates/index.vue?1e90","webpack:///./src/components/templates/addTemplate.vue?2553","webpack:///src/components/templates/addTemplate.vue","webpack:///./src/components/templates/addTemplate.vue?7b57","webpack:///./src/components/templates/addTemplate.vue","webpack:///./src/components/templates/renameTemplate.vue?1cdc","webpack:///src/components/templates/renameTemplate.vue","webpack:///./src/components/templates/renameTemplate.vue?bf1f","webpack:///./src/components/templates/renameTemplate.vue","webpack:///src/views/templates/index.vue","webpack:///./src/views/templates/index.vue?8616","webpack:///./src/views/templates/index.vue","webpack:///./src/views/templates/index.vue?dba8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","dark","theme","_v","_s","local","staticStyle","attrs","model","value","callback","$$v","currentSearch","expression","cmd","templates","on","$event","currentItem","currentChoosen","openEditor","scopedSlots","_u","key","fn","show","rename","deleteTemplate","proxy","add","$set","staticRenderFns","type","indexOf","_k","keyCode","apply","arguments","name","cur_db","thisShow","components","floatWindowBase","props","default","data","watch","val","computed","mapState","data_index","data_path","mapGetters","v","methods","mapMutations","reviseDS","_page","JSON","$index","component","addTemplate","renameTemplate","templateGrid","icon","iconColor","disabled","func","head","content","width","sortName","lock","$route","mounted","reviseEditor","toggleEditor","templatesEnsureFolder","status","title","confirmTitle","cancelTitle","confirm","cancel","deleteTemplates","copy","template","item","target"],"mappings":"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","file":"js/chunk-c4a6855c.b4dda44c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ikfb-templates-container\",class:[{dark: _vm.theme === 'dark'}]},[_c('div',{staticClass:\"s-row\"},[_c('p',{staticClass:\"s-title\"},[_vm._v(_vm._s(_vm.local('Templates')))])]),_c('div',{staticClass:\"m-templates-block\"},[_c('div',{staticClass:\"row between\"},[_c('fv-text-box',{staticStyle:{\"box-shadow\":\"0px 3px 8px rgba(0, 0, 0, 0.1)\"},attrs:{\"placeholder\":_vm.local('Filtering from current content'),\"theme\":_vm.theme,\"background\":_vm.theme === 'dark' ? 'rgba(75, 75, 75, 1)' : 'rgba(245, 245, 245, 1)',\"icon\":\"Filter\",\"borderWidth\":\"2\",\"revealBorder\":true},model:{value:(_vm.currentSearch),callback:function ($$v) {_vm.currentSearch=$$v},expression:\"currentSearch\"}})],1),_c('div',{staticClass:\"row command-bar\"},[_c('fv-command-bar',{staticStyle:{\"flex\":\"1\"},attrs:{\"options\":_vm.cmd,\"theme\":_vm.theme,\"background\":_vm.theme === 'dark' ? 'transparent' : 'rgba(245, 245, 245, 1)'}})],1),_c('div',{staticClass:\"row main-table\"},[_c('template-grid',{attrs:{\"value\":_vm.templates,\"filter\":_vm.currentSearch},on:{\"rightclick\":function($event){_vm.currentItem = $event},\"choose-items\":function($event){_vm.currentChoosen = $event},\"item-click\":function($event){return _vm.openEditor($event)}},scopedSlots:_vm._u([{key:\"menu\",fn:function(){return [_c('div',[_c('span',{on:{\"click\":function($event){_vm.show.rename = true}}},[_c('i',{staticClass:\"ms-Icon ms-Icon--Rename\",staticStyle:{\"color\":\"rgba(0, 153, 204, 1)\"}}),_c('p',[_vm._v(_vm._s(_vm.local(\"Rename Template\")))])]),_c('span',{on:{\"click\":_vm.deleteTemplate}},[_c('i',{staticClass:\"ms-Icon ms-Icon--Delete\",staticStyle:{\"color\":\"rgba(173, 38, 45, 1)\"}}),_c('p',[_vm._v(_vm._s(_vm.local(\"Delete Template\")))])])])]},proxy:true}])})],1)]),_c('add-template',{attrs:{\"show\":_vm.show.add},on:{\"update:show\":function($event){return _vm.$set(_vm.show, \"add\", $event)}}}),_c('rename-template',{attrs:{\"value\":_vm.currentItem,\"show\":_vm.show.rename},on:{\"update:show\":function($event){return _vm.$set(_vm.show, \"rename\", $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('float-window-base',{attrs:{\"title\":_vm.local('Add Template'),\"theme\":_vm.theme},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"w-p-block\"},[_c('p',{staticClass:\"w-title\"},[_vm._v(_vm._s(_vm.local('Template Name')))]),_c('fv-text-box',{attrs:{\"placeholder\":_vm.local('Input template name...'),\"theme\":_vm.theme},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.add.apply(null, arguments)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]},proxy:true},{key:\"control\",fn:function(){return [_c('fv-button',{attrs:{\"theme\":\"dark\",\"background\":\"rgba(0, 153, 204, 1)\",\"disabled\":_vm.name === '' || !_vm.cur_db},on:{\"click\":_vm.add}},[_vm._v(_vm._s(_vm.local('Confirm')))]),_c('fv-button',{attrs:{\"theme\":_vm.theme},on:{\"click\":function($event){_vm.thisShow = false}}},[_vm._v(_vm._s(_vm.local('Cancel')))])]},proxy:true}]),model:{value:(_vm.thisShow),callback:function ($$v) {_vm.thisShow=$$v},expression:\"thisShow\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <float-window-base v-model=\"thisShow\" :title=\"local('Add Template')\" :theme=\"theme\">\n        <template v-slot:content>\n            <div class=\"w-p-block\">\n                <p class=\"w-title\">{{local('Template Name')}}</p>\n                <fv-text-box v-model=\"name\" :placeholder=\"local('Input template name...')\" :theme=\"theme\" @keyup.enter=\"add\"></fv-text-box>\n            </div>\n        </template>\n        <template v-slot:control>\n            <fv-button theme=\"dark\" background=\"rgba(0, 153, 204, 1)\" :disabled=\"name === '' || !cur_db\" @click=\"add\">{{local('Confirm')}}</fv-button>\n            <fv-button :theme=\"theme\" @click=\"thisShow = false\">{{local('Cancel')}}</fv-button>\n        </template>\n    </float-window-base>\n</template>\n\n<script>\nimport floatWindowBase from \"../window/floatWindowBase.vue\";\nimport {page} from \"@/js/data_sample.js\";\nimport { mapMutations, mapState, mapGetters } from \"vuex\";\n// const { ipcRenderer: ipc } = require(\"electron\");\n// const path = require(\"path\");\n\nexport default {\n    components: {\n        floatWindowBase,\n    },\n    props: {\n        show: {\n            default: false\n        }\n    },\n    data() {\n        return {\n            thisShow: this.show,\n            name: \"\"\n        };\n    },\n    watch: {\n        show (val) {\n            this.thisShow = val;\n        },\n        thisShow (val) {\n            this.$emit(\"update:show\", val);\n            this.name = \"\";\n        }\n    },\n    computed: {\n        ...mapState({\n            data_index: (state) => state.data_index,            \n            data_path: (state) => state.data_path,\n            templates: state => state.data_structure.templates,\n            theme: (state) => state.theme,\n        }),\n        ...mapGetters([\"local\", 'cur_db']),\n        v() {\n            return this;\n        },\n    },\n    methods: {\n        ...mapMutations({\n            reviseDS: \"reviseDS\",\n        }),\n        async add () {\n            if(!this.cur_db || this.name === '')\n                return;\n            let _page = JSON.parse(JSON.stringify(page));\n            _page.id = this.$Guid();\n            _page.name = this.name;\n            _page.emoji = '📑';\n            _page.createDate = this.$SDate.DateToString(new Date());\n            this.templates.push(_page);\n            this.reviseDS({\n                $index: this.data_index,\n                templates: this.templates\n            });\n            // let url = path.join(this.data_path[this.data_index], 'root/templates', `${_page.id}.json`);\n            // ipc.send('output-file', {\n            //     path: url,\n            //     data: \"\"\n            // });\n            // await new Promise(resolve => {\n            //     ipc.on('output-file-callback', () => {\n            //         resolve(1);\n            //     });\n            // })\n            this.thisShow = false;\n        }\n    },\n};\n</script>\n\n<style lang=\"scss\">\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addTemplate.vue?vue&type=template&id=5e03fcf1&\"\nimport script from \"./addTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./addTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('float-window-base',{attrs:{\"title\":_vm.local('Rename Template'),\"theme\":_vm.theme},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"w-p-block\"},[_c('p',{staticClass:\"w-title\"},[_vm._v(_vm._s(_vm.local('Template Name')))]),_c('fv-text-box',{attrs:{\"placeholder\":_vm.local('Input template name...'),\"theme\":_vm.theme},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.rename.apply(null, arguments)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]},proxy:true},{key:\"control\",fn:function(){return [_c('fv-button',{attrs:{\"theme\":\"dark\",\"background\":\"rgba(0, 153, 204, 1)\",\"disabled\":!_vm.value || _vm.name === '' || !_vm.cur_db},on:{\"click\":_vm.rename}},[_vm._v(_vm._s(_vm.local('Confirm')))]),_c('fv-button',{attrs:{\"theme\":_vm.theme},on:{\"click\":function($event){_vm.thisShow = false}}},[_vm._v(_vm._s(_vm.local('Cancel')))])]},proxy:true}]),model:{value:(_vm.thisShow),callback:function ($$v) {_vm.thisShow=$$v},expression:\"thisShow\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <float-window-base v-model=\"thisShow\" :title=\"local('Rename Template')\" :theme=\"theme\">\n        <template v-slot:content>\n            <div class=\"w-p-block\">\n                <p class=\"w-title\">{{local('Template Name')}}</p>\n                <fv-text-box v-model=\"name\" :placeholder=\"local('Input template name...')\" :theme=\"theme\" @keyup.enter=\"rename\"></fv-text-box>\n            </div>\n        </template>\n        <template v-slot:control>\n            <fv-button theme=\"dark\" background=\"rgba(0, 153, 204, 1)\" :disabled=\"!value || name === '' || !cur_db\" @click=\"rename\">{{local('Confirm')}}</fv-button>\n            <fv-button :theme=\"theme\" @click=\"thisShow = false\">{{local('Cancel')}}</fv-button>\n        </template>\n    </float-window-base>\n</template>\n\n<script>\nimport floatWindowBase from \"../window/floatWindowBase.vue\";\nimport { mapMutations, mapState, mapGetters } from \"vuex\";\n\nexport default {\n    components: {\n        floatWindowBase,\n    },\n    props: {\n        value: {\n            default: null\n        },\n        show: {\n            default: false\n        }\n    },\n    data() {\n        return {\n            thisShow: this.show,\n            name: \"\"\n        };\n    },\n    watch: {\n        show (val) {\n            this.thisShow = val;\n        },\n        thisShow (val) {\n            this.$emit(\"update:show\", val);\n            if(this.value.name)\n                this.name = this.value.name;\n            else\n                this.name = \"\";\n        }\n    },\n    computed: {\n        ...mapState({\n            data_index: (state) => state.data_index,            \n            data_path: (state) => state.data_path,\n            templates: state => state.data_structure.templates,\n            theme: (state) => state.theme,\n        }),\n        ...mapGetters([\"local\", 'cur_db']),\n        v() {\n            return this;\n        },\n    },\n    methods: {\n        ...mapMutations({\n            reviseDS: \"reviseDS\",\n        }),\n        async rename () {\n            if(!this.cur_db || !this.value || this.name === '')\n                return;\n            let _page = this.templates.find(it => it.id === this.value.id);\n            _page.name = this.name;\n            this.value.name = this.name;\n            this.reviseDS({\n                $index: this.data_index,\n                templates: this.templates\n            });\n            this.thisShow = false;\n        }\n    },\n};\n</script>\n\n<style lang=\"scss\">\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./renameTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./renameTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./renameTemplate.vue?vue&type=template&id=18c96be6&\"\nimport script from \"./renameTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./renameTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div\n        class=\"ikfb-templates-container\"\n        :class=\"[{dark: theme === 'dark'}]\"\n    >\n        <div class=\"s-row\">\n            <p class=\"s-title\">{{local('Templates')}}</p>\n        </div>\n        <div class=\"m-templates-block\">\n            <div class=\"row between\">\n                <fv-text-box\n                    v-model=\"currentSearch\"\n                    :placeholder=\"local('Filtering from current content')\"\n                    :theme=\"theme\"\n                    :background=\"theme === 'dark' ? 'rgba(75, 75, 75, 1)' : 'rgba(245, 245, 245, 1)'\"\n                    icon=\"Filter\"\n                    borderWidth=\"2\"\n                    :revealBorder=\"true\"\n                    style=\"box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.1)\"\n                ></fv-text-box>\n            </div>\n            <div class=\"row command-bar\">\n                <fv-command-bar\n                    :options=\"cmd\"\n                    :theme=\"theme\"\n                    :background=\"theme === 'dark' ? 'transparent' : 'rgba(245, 245, 245, 1)'\"\n                    style=\"flex: 1\"\n                ></fv-command-bar>\n            </div>\n            <div class=\"row main-table\">\n                <template-grid\n                    :value=\"templates\"\n                    :filter=\"currentSearch\"\n                    @rightclick=\"currentItem = $event\"\n                    @choose-items=\"currentChoosen = $event\"\n                    @item-click=\"openEditor($event)\"\n                >\n                    <template v-slot:menu>\n                        <div>\n                            <span @click=\"show.rename = true\">\n                                <i\n                                    class=\"ms-Icon ms-Icon--Rename\"\n                                    style=\"color: rgba(0, 153, 204, 1);\"\n                                ></i>\n                                <p>{{local(\"Rename Template\")}}</p>\n                            </span>\n                            <span @click=\"deleteTemplate\">\n                                <i\n                                    class=\"ms-Icon ms-Icon--Delete\"\n                                    style=\"color: rgba(173, 38, 45, 1);\"\n                                ></i>\n                                <p>{{local(\"Delete Template\")}}</p>\n                            </span>\n                        </div>\n                    </template>\n                </template-grid>\n            </div>\n        </div>\n        <add-template :show.sync=\"show.add\"></add-template>\n        <rename-template\n            :value=\"currentItem\"\n            :show.sync=\"show.rename\"\n        ></rename-template>\n    </div>\n</template>\n\n<script>\nimport addTemplate from \"@/components/templates/addTemplate.vue\";\nimport renameTemplate from \"@/components/templates/renameTemplate.vue\";\nimport templateGrid from \"@/components/templates/templateGrid.vue\";\nimport { mapMutations, mapState, mapGetters } from \"vuex\";\n\n// const path = require(\"path\");\n\nexport default {\n    components: {\n        addTemplate,\n        renameTemplate,\n        templateGrid,\n    },\n    data() {\n        return {\n            cmd: [\n                {\n                    name: () => this.local(\"Add\"),\n                    icon: \"Add\",\n                    iconColor: \"rgba(0, 90, 158, 1)\",\n                    disabled: () => this.cur_db === null || !this.lock,\n                    func: () => {\n                        this.show.add = true;\n                    },\n                },\n                {\n                    name: () => this.local(\"Delete\"),\n                    icon: \"Delete\",\n                    iconColor: \"rgba(173, 38, 45, 1)\",\n                    disabled: () =>\n                        this.currentChoosen.length === 0 || !this.lock,\n                    func: this.deleteTemplates,\n                },\n            ],\n            head: [\n                { content: \"No.\", width: 120 },\n                { content: \"Icon\", sortName: \"emoji\", width: 80 },\n                { content: \"Name\", sortName: \"name\", width: 300 },\n                { content: \"Create Date\", sortName: \"createDate\", width: 120 },\n            ],\n            currentItem: {},\n            currentChoosen: [],\n            currentSearch: \"\",\n            show: {\n                add: false,\n                rename: false,\n            },\n            lock: true,\n        };\n    },\n    watch: {\n        $route() {\n            this.templatesEnsureFolder();\n        },\n    },\n    computed: {\n        ...mapState({\n            data_path: (state) => state.data_path,\n            data_index: (state) => state.data_index,\n            templates: (state) => state.data_structure.templates,\n            theme: (state) => state.theme,\n        }),\n        ...mapGetters([\"local\", \"cur_db\"]),\n        v() {\n            return this;\n        },\n    },\n    mounted() {\n        this.templatesEnsureFolder();\n    },\n    methods: {\n        ...mapMutations({\n            reviseDS: \"reviseDS\",\n            reviseEditor: \"reviseEditor\",\n            toggleEditor: \"toggleEditor\",\n        }),\n        templatesEnsureFolder() {\n            if (!this.cur_db || this.data_index == -1) return;\n            this.lock = false;\n            // ipc.send(\n            //     \"ensure-folder\",\n            //     path.join(this.data_path[this.data_index], \"root/templates\")\n            // );\n            // ipc.on(\"ensure-folder-callback\", () => {\n            //     this.lock = true;\n            // });\n        },\n        deleteTemplate() {\n            if (!this.currentItem.id || !this.lock) return;\n            this.$infoBox(this.local(`Are you sure to delete this template?`), {\n                status: \"error\",\n                title: this.local(\"Delete Template\"),\n                confirmTitle: this.local(\"Confirm\"),\n                cancelTitle: this.local(\"Cancel\"),\n                theme: this.theme,\n                confirm: () => {\n                    this.lock = false;\n                    let index = this.templates.indexOf(\n                        this.templates.find(\n                            (it) => it.id === this.currentItem.id\n                        )\n                    );\n                    this.templates.splice(index, 1);\n                    this.reviseDS({\n                        $index: this.data_index,\n                        templates: this.templates,\n                    });\n                    // ipc.send(\n                    //     \"remove-file\",\n                    //     path.join(\n                    //         this.data_path[this.data_index],\n                    //         \"root/templates\",\n                    //         `${this.currentItem.id}.json`\n                    //     )\n                    // );\n                    this.lock = true;\n                },\n                cancel: () => {},\n            });\n        },\n        deleteTemplates() {\n            if (!this.currentChoosen || !this.lock) return;\n            this.$infoBox(\n                this.local(`Are you sure to delete these templates?`),\n                {\n                    status: \"error\",\n                    title: this.local(\"Delete Templates\"),\n                    confirmTitle: this.local(\"Confirm\"),\n                    cancelTitle: this.local(\"Cancel\"),\n                    theme: this.theme,\n                    confirm: () => {\n                        this.lock = false;\n                        let copy = JSON.parse(\n                            JSON.stringify(this.currentChoosen)\n                        );\n                        copy.forEach((el) => {\n                            let index = this.templates.indexOf(\n                                this.templates.find((it) => it.id === el.id)\n                            );\n                            this.templates.splice(index, 1);\n                            this.reviseDS({\n                                $index: this.data_index,\n                                templates: this.templates,\n                            });\n                            // ipc.send(\n                            //     \"remove-file\",\n                            //     path.join(\n                            //         this.data_path[this.data_index],\n                            //         \"root/templates\",\n                            //         `${el.id}.json`\n                            //     )\n                            // );\n                            this.lock = true;\n                        });\n                    },\n                    cancel: () => {},\n                }\n            );\n        },\n        openEditor(template) {\n            this.reviseEditor({\n                type: \"template\",\n                item: {},\n                target: template,\n            });\n            this.toggleEditor(true);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n.ikfb-templates-container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background: rgba(245, 245, 245, 1);\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    transition: all 0.3s;\n\n    &.dark {\n        background: rgba(36, 36, 36, 1);\n\n        .s-title {\n            color: whitesmoke;\n        }\n\n        .m-templates-block {\n            .row {\n                &.main-table {\n                    background: black;\n                }\n            }\n        }\n    }\n\n    .s-row {\n        position: relative;\n        margin: 25px 0px;\n        padding: 0px 15px;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n    }\n\n    .s-title {\n        font-size: 24px;\n        user-select: none;\n        cursor: default;\n    }\n\n    .m-templates-block {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        box-sizing: border-box;\n        overflow: hidden;\n\n        display: flex;\n        flex-direction: column;\n\n        .row {\n            position: relative;\n            width: 100%;\n            height: auto;\n            padding: 12px;\n            box-sizing: border-box;\n\n            &.between {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n\n            &.command-bar {\n                padding: 0px 12px;\n                display: flex;\n                align-items: center;\n            }\n\n            &.main-table {\n                width: calc(100% - 24px);\n                flex: 1;\n                margin: 8px 12px;\n                padding: 0px;\n                background: white;\n                border-radius: 5px;\n                box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.1);\n                overflow: hidden;\n\n                p.highlight {\n                    text-align: center;\n                    cursor: pointer;\n\n                    &:hover {\n                        color: rgba(0, 120, 212, 1);\n                        text-decoration: underline;\n                    }\n                }\n            }\n\n            &.bottom-control {\n                width: calc(100% - 24px);\n                height: 45px;\n                margin: 8px 12px;\n                padding: 0px;\n                border-radius: 5px;\n                overflow: hidden;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .head-info {\n                position: absolute;\n                left: 0px;\n                top: 100%;\n                width: 100%;\n                height: auto;\n                background: whitesmoke;\n                display: flex;\n                flex-direction: column;\n                box-shadow: 0px 8px 8px rgba(0, 0, 0, 0.1);\n                z-index: 20;\n\n                .item {\n                    width: 100%;\n                    min-height: 35px;\n                    height: 35px;\n                    padding: 0px 15px;\n                    font-size: 12px;\n                    font-weight: 400;\n                    box-sizing: border-box;\n                    grid-template-columns: 80px 80px 80px 1fr;\n                    display: grid;\n                    align-items: center;\n                }\n            }\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5f24be0e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}